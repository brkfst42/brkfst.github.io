<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-04-25">

<title>Data Cleaning, Wrangling, and Exploration</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="Preprocessing_files/libs/clipboard/clipboard.min.js"></script>
<script src="Preprocessing_files/libs/quarto-html/quarto.js"></script>
<script src="Preprocessing_files/libs/quarto-html/popper.min.js"></script>
<script src="Preprocessing_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Preprocessing_files/libs/quarto-html/anchor.min.js"></script>
<link href="Preprocessing_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Preprocessing_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Preprocessing_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Preprocessing_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Preprocessing_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

<link href="Preprocessing_files/libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="Preprocessing_files/libs/pagedtable-1.1/js/pagedtable.js"></script>


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#load-files" id="toc-load-files" class="nav-link active" data-scroll-target="#load-files">Load files</a></li>
  <li><a href="#examine-validation-scores" id="toc-examine-validation-scores" class="nav-link" data-scroll-target="#examine-validation-scores">Examine validation scores</a>
  <ul class="collapse">
  <li><a href="#get-higher-validation-score-for-participants-if-2-rounds-of-validation" id="toc-get-higher-validation-score-for-participants-if-2-rounds-of-validation" class="nav-link" data-scroll-target="#get-higher-validation-score-for-participants-if-2-rounds-of-validation">Get higher validation score for participants, if 2 rounds of validation</a></li>
  <li><a href="#quick-calculation-what-if-we-were-to-use-validation-score-above-80-on-any-of-5-points" id="toc-quick-calculation-what-if-we-were-to-use-validation-score-above-80-on-any-of-5-points" class="nav-link" data-scroll-target="#quick-calculation-what-if-we-were-to-use-validation-score-above-80-on-any-of-5-points">Quick calculation: what if we were to use “validation score above 80% on any of 5 points”</a></li>
  <li><a href="#subset-for-participants-who-passed-the-threshold" id="toc-subset-for-participants-who-passed-the-threshold" class="nav-link" data-scroll-target="#subset-for-participants-who-passed-the-threshold">Subset for participants who passed the threshold</a></li>
  <li><a href="#descriptive-statistics-of-all-participants" id="toc-descriptive-statistics-of-all-participants" class="nav-link" data-scroll-target="#descriptive-statistics-of-all-participants">Descriptive statistics of all participants</a></li>
  <li><a href="#histogram-and-density-curve-of-all-participants" id="toc-histogram-and-density-curve-of-all-participants" class="nav-link" data-scroll-target="#histogram-and-density-curve-of-all-participants">Histogram and density curve of all participants</a></li>
  <li><a href="#box-and-whisker-plot-validation-scores-of-all-participants" id="toc-box-and-whisker-plot-validation-scores-of-all-participants" class="nav-link" data-scroll-target="#box-and-whisker-plot-validation-scores-of-all-participants">Box and whisker plot, validation scores of all participants</a></li>
  <li><a href="#descriptive-statistics-for-each-validation-point" id="toc-descriptive-statistics-for-each-validation-point" class="nav-link" data-scroll-target="#descriptive-statistics-for-each-validation-point">Descriptive statistics for each validation point</a></li>
  </ul></li>
  <li><a href="#reaction-time-data" id="toc-reaction-time-data" class="nav-link" data-scroll-target="#reaction-time-data">Reaction time data</a>
  <ul class="collapse">
  <li><a href="#cleanup" id="toc-cleanup" class="nav-link" data-scroll-target="#cleanup">Cleanup</a></li>
  <li><a href="#apply-exclusions-exclusion-3---2---1" id="toc-apply-exclusions-exclusion-3---2---1" class="nav-link" data-scroll-target="#apply-exclusions-exclusion-3---2---1">Apply exclusions (Exclusion 3 -&gt; 2 -&gt; 1)</a></li>
  <li><a href="#exclusion-3" id="toc-exclusion-3" class="nav-link" data-scroll-target="#exclusion-3">Exclusion 3</a></li>
  <li><a href="#exclusion-2" id="toc-exclusion-2" class="nav-link" data-scroll-target="#exclusion-2">Exclusion 2</a></li>
  <li><a href="#exclusion-1" id="toc-exclusion-1" class="nav-link" data-scroll-target="#exclusion-1">Exclusion 1</a></li>
  <li><a href="#treatment-of-late-responses-and-wrong-responses" id="toc-treatment-of-late-responses-and-wrong-responses" class="nav-link" data-scroll-target="#treatment-of-late-responses-and-wrong-responses">Treatment of late responses and wrong responses</a></li>
  <li><a href="#exploring-late-responses" id="toc-exploring-late-responses" class="nav-link" data-scroll-target="#exploring-late-responses">Exploring Late Responses</a></li>
  <li><a href="#half-violin" id="toc-half-violin" class="nav-link" data-scroll-target="#half-violin">Half violin</a></li>
  <li><a href="#check-block-1-2-3---no-difference-in-speed-and-accuracy" id="toc-check-block-1-2-3---no-difference-in-speed-and-accuracy" class="nav-link" data-scroll-target="#check-block-1-2-3---no-difference-in-speed-and-accuracy">Check Block 1, 2, 3 - No Difference in Speed and Accuracy</a></li>
  </ul></li>
  <li><a href="#eye-tracking-data-cleaning" id="toc-eye-tracking-data-cleaning" class="nav-link" data-scroll-target="#eye-tracking-data-cleaning">Eye Tracking Data Cleaning</a>
  <ul class="collapse">
  <li><a href="#major-cleanup" id="toc-major-cleanup" class="nav-link" data-scroll-target="#major-cleanup">Major cleanup</a></li>
  <li><a href="#adjust-for-video-positions" id="toc-adjust-for-video-positions" class="nav-link" data-scroll-target="#adjust-for-video-positions">Adjust for video positions</a></li>
  <li><a href="#eyetrack_data-created-here" id="toc-eyetrack_data-created-here" class="nav-link" data-scroll-target="#eyetrack_data-created-here">EYETRACK_DATA created here</a></li>
  <li><a href="#deprecated-exploring-1000-ms-and-500-ms-before-pour_moment" id="toc-deprecated-exploring-1000-ms-and-500-ms-before-pour_moment" class="nav-link" data-scroll-target="#deprecated-exploring-1000-ms-and-500-ms-before-pour_moment">DEPRECATED Exploring 1000 ms and 500 ms before pour_moment</a></li>
  </ul></li>
  <li><a href="#time-bins-of-50" id="toc-time-bins-of-50" class="nav-link" data-scroll-target="#time-bins-of-50">Time Bins of 50</a></li>
  <li><a href="#time-window" id="toc-time-window" class="nav-link" data-scroll-target="#time-window">Time Window</a></li>
  <li><a href="#aggregate-calculate-predictive-gaze" id="toc-aggregate-calculate-predictive-gaze" class="nav-link" data-scroll-target="#aggregate-calculate-predictive-gaze">Aggregate: Calculate predictive gaze</a>
  <ul class="collapse">
  <li><a href="#check-participants-who-failed-to-look-at-both-aois" id="toc-check-participants-who-failed-to-look-at-both-aois" class="nav-link" data-scroll-target="#check-participants-who-failed-to-look-at-both-aois">Check participants who failed to look at both AOIs</a></li>
  <li><a href="#check-participants-who-fixated-only-on-the-goal-aoi" id="toc-check-participants-who-fixated-only-on-the-goal-aoi" class="nav-link" data-scroll-target="#check-participants-who-fixated-only-on-the-goal-aoi">Check participants who fixated only on the Goal AOI</a></li>
  <li><a href="#mean-predictive-gaze-calculated-here" id="toc-mean-predictive-gaze-calculated-here" class="nav-link" data-scroll-target="#mean-predictive-gaze-calculated-here">Mean Predictive Gaze calculated here</a></li>
  </ul></li>
  <li><a href="#violin" id="toc-violin" class="nav-link" data-scroll-target="#violin">Violin</a></li>
  <li><a href="#check-not-looking-and-infinity" id="toc-check-not-looking-and-infinity" class="nav-link" data-scroll-target="#check-not-looking-and-infinity">Check Not Looking and Infinity</a>
  <ul class="collapse">
  <li><a href="#equal-time-bins-of-20ms" id="toc-equal-time-bins-of-20ms" class="nav-link" data-scroll-target="#equal-time-bins-of-20ms">Equal Time Bins of 20ms</a></li>
  <li><a href="#exploring-how-to-filter-the-noisy-data" id="toc-exploring-how-to-filter-the-noisy-data" class="nav-link" data-scroll-target="#exploring-how-to-filter-the-noisy-data">Exploring how to filter the noisy data</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data Cleaning, Wrangling, and Exploration</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 25, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="load-files" class="level2">
<h2 class="anchored" data-anchor-id="load-files">Load files</h2>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr) </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(geomtextpath) <span class="co"># for annotating geom_vlines</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mosaic, <span class="at">include.only =</span> <span class="st">'favstats'</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr, <span class="at">include.only=</span><span class="st">'kable'</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(eyetrackingR) <span class="co"># add_aoi, need equal time windows</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wesanderson)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>list_of_files_with_ID <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> <span class="st">"data_5/"</span>,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>                            <span class="at">recursive =</span> <span class="cn">TRUE</span>,</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>                            <span class="at">pattern =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">.csv$"</span>,</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>                            <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># writeLines(list_of_files, "filenames.txt")</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> list_of_files_with_ID <span class="sc">%&gt;%</span> <span class="fu">setNames</span>(<span class="at">nm =</span> .) <span class="sc">%&gt;%</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map_df</span>(<span class="sc">~</span><span class="fu">read_csv</span>(<span class="at">file =</span> .x, <span class="at">col_types =</span> <span class="fu">cols</span>()), <span class="at">.id =</span> <span class="st">"participant"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>           <span class="fu">mutate</span>(<span class="at">participant =</span> <span class="fu">str_extract</span>(participant, <span class="st">"V</span><span class="sc">\\</span><span class="st">d{3}"</span>)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>                  )</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="co"># above did not work with baseR pipe |&gt;, had to use the tidy pipe</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="examine-validation-scores" class="level2">
<h2 class="anchored" data-anchor-id="examine-validation-scores">Examine validation scores</h2>
<p>Validation scores are calculated percent_in_roi column.</p>
<p>The preregistered exclusion method is 55% validation accuracy within 2 rounds (gaze falls within 200px radius of 5 validation points).</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># column percent_in_roi has brackets [], function to remove</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>remove_brackets <span class="ot">&lt;-</span> <span class="cf">function</span>(col) {</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">[|</span><span class="sc">\\</span><span class="st">]"</span>, <span class="st">""</span>, col)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># percent_in_roi originally is a string, e.g., "[100, 100, 100, 100, 100]"</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># remove brackets, str_split into list of 5 strings, e.g., c("100", "100", "100", "100", "100")</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>df_percent_in_roi <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> <span class="fu">group_by</span>(participant) <span class="sc">|&gt;</span> </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, percent_in_roi) <span class="sc">|&gt;</span> <span class="fu">drop_na</span>() <span class="sc">|&gt;</span> </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percent_in_roi =</span> <span class="fu">remove_brackets</span>(percent_in_roi)) <span class="sc">|&gt;</span> </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">list_percent =</span> <span class="fu">str_split</span>(percent_in_roi, <span class="st">","</span>))</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co"># split the list of string into 5 columns, for each column, as.numeric()</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>df_calculate_mean <span class="ot">&lt;-</span> df_percent_in_roi <span class="sc">|&gt;</span> <span class="fu">select</span>(participant, list_percent) <span class="sc">|&gt;</span> <span class="fu">unnest_wider</span>(list_percent, <span class="at">names_sep =</span> <span class="st">"."</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate_at</span>(<span class="fu">c</span>(<span class="st">'list_percent.1'</span>, <span class="st">'list_percent.2'</span>, <span class="st">'list_percent.3'</span>, <span class="st">'list_percent.4'</span>, <span class="st">'list_percent.5'</span>), as.numeric) <span class="sc">|&gt;</span> </span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># calculate means for each row, i.e., each round of validation</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create boolean column to indicate whether participants passed 55% threshold or not</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">mean_col =</span> <span class="fu">rowMeans</span>(<span class="fu">cbind</span>(list_percent<span class="fl">.1</span>, list_percent<span class="fl">.2</span>, </span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>                            list_percent<span class="fl">.3</span>, list_percent<span class="fl">.4</span>, </span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>                            list_percent<span class="fl">.5</span>), <span class="at">na.rm=</span>F)) <span class="sc">|&gt;</span> </span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">boolean =</span> <span class="fu">case_when</span>(mean_col <span class="sc">&gt;=</span> <span class="fl">55.0</span> <span class="sc">~</span> <span class="cn">TRUE</span>, </span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>                             mean_col <span class="sc">&lt;</span> <span class="dv">55</span> <span class="sc">~</span> <span class="cn">FALSE</span>))</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>(<span class="fu">head</span>(df_calculate_mean, <span class="at">n=</span><span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["participant"],"name":[1],"type":["chr"],"align":["left"]},{"label":["list_percent.1"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["list_percent.2"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["list_percent.3"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["list_percent.4"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["list_percent.5"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["mean_col"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["boolean"],"name":[8],"type":["lgl"],"align":["right"]}],"data":[{"1":"V001","2":"63.513514","3":"93.24324","4":"63.51351","5":"98.630137","6":"17.808219","7":"67.34173","8":"TRUE"},{"1":"V002","2":"89.189189","3":"60.56338","4":"85.91549","5":"88.888889","6":"100.000000","7":"84.91139","8":"TRUE"},{"1":"V003","2":"100.000000","3":"81.08108","4":"87.83784","5":"81.333333","6":"0.000000","7":"70.05045","8":"TRUE"},{"1":"V004","2":"100.000000","3":"98.00000","4":"84.90566","5":"16.981132","6":"1.923077","7":"60.36197","8":"TRUE"},{"1":"V005","2":"100.000000","3":"55.35714","4":"100.00000","5":"32.758621","6":"100.000000","7":"77.62315","8":"TRUE"},{"1":"V006","2":"2.739726","3":"0.00000","4":"100.00000","5":"56.756757","6":"84.000000","7":"48.69930","8":"FALSE"},{"1":"V006","2":"100.000000","3":"63.51351","4":"100.00000","5":"100.000000","6":"87.837838","7":"90.27027","8":"TRUE"},{"1":"V007","2":"87.837838","3":"100.00000","4":"100.00000","5":"86.301370","6":"95.890411","7":"94.00592","8":"TRUE"},{"1":"V008","2":"100.000000","3":"80.55556","4":"84.50704","5":"1.351351","6":"72.463768","7":"67.77554","8":"TRUE"},{"1":"V009","2":"78.571429","3":"27.11864","4":"72.72727","5":"78.947368","6":"7.017544","7":"52.87645","8":"FALSE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<section id="get-higher-validation-score-for-participants-if-2-rounds-of-validation" class="level3">
<h3 class="anchored" data-anchor-id="get-higher-validation-score-for-participants-if-2-rounds-of-validation">Get higher validation score for participants, if 2 rounds of validation</h3>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># generate participant list who reach 55% within 2 rounds of validation</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># retain rows with higher validation percent in mean_col,  using top_n()</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>participant_list_eye_tracking <span class="ot">&lt;-</span> df_calculate_mean <span class="sc">|&gt;</span> </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(participant) <span class="sc">|&gt;</span> <span class="fu">top_n</span>(<span class="dv">1</span>, mean_col)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>(<span class="fu">head</span>(participant_list_eye_tracking))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["participant"],"name":[1],"type":["chr"],"align":["left"]},{"label":["list_percent.1"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["list_percent.2"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["list_percent.3"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["list_percent.4"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["list_percent.5"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["mean_col"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["boolean"],"name":[8],"type":["lgl"],"align":["right"]}],"data":[{"1":"V001","2":"63.51351","3":"93.24324","4":"63.51351","5":"98.63014","6":"17.808219","7":"67.34173","8":"TRUE"},{"1":"V002","2":"89.18919","3":"60.56338","4":"85.91549","5":"88.88889","6":"100.000000","7":"84.91139","8":"TRUE"},{"1":"V003","2":"100.00000","3":"81.08108","4":"87.83784","5":"81.33333","6":"0.000000","7":"70.05045","8":"TRUE"},{"1":"V004","2":"100.00000","3":"98.00000","4":"84.90566","5":"16.98113","6":"1.923077","7":"60.36197","8":"TRUE"},{"1":"V005","2":"100.00000","3":"55.35714","4":"100.00000","5":"32.75862","6":"100.000000","7":"77.62315","8":"TRUE"},{"1":"V006","2":"100.00000","3":"63.51351","4":"100.00000","5":"100.00000","6":"87.837838","7":"90.27027","8":"TRUE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="quick-calculation-what-if-we-were-to-use-validation-score-above-80-on-any-of-5-points" class="level3">
<h3 class="anchored" data-anchor-id="quick-calculation-what-if-we-were-to-use-validation-score-above-80-on-any-of-5-points">Quick calculation: what if we were to use “validation score above 80% on any of 5 points”</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>q <span class="ot">&lt;-</span> participant_list_eye_tracking <span class="sc">|&gt;</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">max_percent_of_single_point =</span> <span class="fu">max</span>(<span class="fu">c</span>(list_percent<span class="fl">.1</span>, list_percent<span class="fl">.2</span>, list_percent<span class="fl">.3</span>, list_percent<span class="fl">.4</span>, list_percent<span class="fl">.5</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">above_80 =</span> <span class="fu">case_when</span>(</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    max_percent_of_single_point <span class="sc">&gt;=</span> <span class="dv">80</span> <span class="sc">~</span><span class="cn">TRUE</span>, </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    max_percent_of_single_point <span class="sc">&lt;</span> <span class="dv">80</span> <span class="sc">~</span> <span class="cn">FALSE</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>q <span class="sc">|&gt;</span> <span class="fu">group_by</span>(above_80) <span class="sc">|&gt;</span> <span class="fu">count</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
# Groups:   above_80 [2]
  above_80     n
  &lt;lgl&gt;    &lt;int&gt;
1 FALSE        8
2 TRUE        54</code></pre>
</div>
</div>
<p>FALSE 8<br>
TRUE 54<br>
Conclusion: If we use the approach of 80% score on any validation point, then we would only exclude 8 participants.</p>
</section>
<section id="subset-for-participants-who-passed-the-threshold" class="level3">
<h3 class="anchored" data-anchor-id="subset-for-participants-who-passed-the-threshold">Subset for participants who passed the threshold</h3>
<p><code>narrow_participant_list_eye_tracking</code> is the list of participants whose data we will use for eye-tracking analysis.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># subset data of participants who passed the validation score threshold</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>narrow_participant_list_eye_tracking <span class="ot">&lt;-</span> participant_list_eye_tracking <span class="sc">|&gt;</span> <span class="fu">filter</span>(boolean <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>(<span class="fu">head</span>(narrow_participant_list_eye_tracking))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["participant"],"name":[1],"type":["chr"],"align":["left"]},{"label":["list_percent.1"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["list_percent.2"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["list_percent.3"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["list_percent.4"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["list_percent.5"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["mean_col"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["boolean"],"name":[8],"type":["lgl"],"align":["right"]}],"data":[{"1":"V001","2":"63.51351","3":"93.24324","4":"63.51351","5":"98.63014","6":"17.808219","7":"67.34173","8":"TRUE"},{"1":"V002","2":"89.18919","3":"60.56338","4":"85.91549","5":"88.88889","6":"100.000000","7":"84.91139","8":"TRUE"},{"1":"V003","2":"100.00000","3":"81.08108","4":"87.83784","5":"81.33333","6":"0.000000","7":"70.05045","8":"TRUE"},{"1":"V004","2":"100.00000","3":"98.00000","4":"84.90566","5":"16.98113","6":"1.923077","7":"60.36197","8":"TRUE"},{"1":"V005","2":"100.00000","3":"55.35714","4":"100.00000","5":"32.75862","6":"100.000000","7":"77.62315","8":"TRUE"},{"1":"V006","2":"100.00000","3":"63.51351","4":"100.00000","5":"100.00000","6":"87.837838","7":"90.27027","8":"TRUE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="descriptive-statistics-of-all-participants" class="level3">
<h3 class="anchored" data-anchor-id="descriptive-statistics-of-all-participants">Descriptive statistics of all participants</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># descriptive stats on mean_col of ALL participants</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>descriptive_stats_mean_validation_scores <span class="ot">&lt;-</span> <span class="fu">favstats</span>(<span class="sc">~</span>mean_col, <span class="at">data =</span> participant_list_eye_tracking)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(descriptive_stats_mean_validation_scores, <span class="at">align =</span> <span class="st">"c"</span>, </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">caption =</span> <span class="st">"Descriptive statistics, validation scores of all participants"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<caption>Descriptive statistics, validation scores of all participants</caption>
<colgroup>
<col style="width: 3%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 4%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: center;">min</th>
<th style="text-align: center;">Q1</th>
<th style="text-align: center;">median</th>
<th style="text-align: center;">Q3</th>
<th style="text-align: center;">max</th>
<th style="text-align: center;">mean</th>
<th style="text-align: center;">sd</th>
<th style="text-align: center;">n</th>
<th style="text-align: center;">missing</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: center;">7.567568</td>
<td style="text-align: center;">45.59098</td>
<td style="text-align: center;">59.43423</td>
<td style="text-align: center;">70.03414</td>
<td style="text-align: center;">94.59459</td>
<td style="text-align: center;">57.93148</td>
<td style="text-align: center;">18.57287</td>
<td style="text-align: center;">62</td>
<td style="text-align: center;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="histogram-and-density-curve-of-all-participants" class="level3">
<h3 class="anchored" data-anchor-id="histogram-and-density-curve-of-all-participants">Histogram and density curve of all participants</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(participant_list_eye_tracking, <span class="fu">aes</span>(<span class="at">x=</span>mean_col)) <span class="sc">+</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#set histogram and density plot</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> <span class="fu">after_stat</span>(density)), <span class="at">binwidth =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">color=</span><span class="st">"blue"</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#set theme</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_linedraw</span>() <span class="sc">+</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>, <span class="st">"cm"</span>), </span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">18</span>), </span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>), </span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>)</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add vlines to indicate mean, SD from mean, and where the 55% threshold is</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># using geomtextpath::geom_textvline which combines vline and annotation settings</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># mean</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_textvline</span>(<span class="at">label =</span> <span class="st">"mean"</span>, <span class="at">xintercept =</span> <span class="fu">mean</span>(participant_list_eye_tracking<span class="sc">$</span>mean_col), </span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">vjust =</span> <span class="sc">-</span>.<span class="dv">5</span>, <span class="at">hjust =</span> .<span class="dv">9</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>) <span class="sc">+</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_textvline</span>(<span class="at">label =</span> <span class="st">"3SD from mean"</span>, <span class="at">xintercept =</span> (<span class="fu">mean</span>(participant_list_eye_tracking<span class="sc">$</span>mean_col) <span class="sc">-</span> <span class="fu">sd</span>(participant_list_eye_tracking<span class="sc">$</span>mean_col)<span class="sc">*</span><span class="dv">3</span>), </span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color =</span> <span class="st">"orange"</span>, <span class="at">vjust =</span> <span class="sc">-</span>.<span class="dv">5</span>, <span class="at">linetype=</span><span class="st">"dashed"</span>, <span class="at">hjust =</span> .<span class="dv">9</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>) <span class="sc">+</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_textvline</span>(<span class="at">label =</span> <span class="st">"2SD from mean"</span>, <span class="at">xintercept=</span>(<span class="fu">mean</span>(participant_list_eye_tracking<span class="sc">$</span>mean_col) <span class="sc">-</span> <span class="fu">sd</span>(participant_list_eye_tracking<span class="sc">$</span>mean_col)<span class="sc">*</span><span class="dv">2</span>), </span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color =</span> <span class="st">"orange"</span>, <span class="at">vjust =</span> <span class="sc">-</span>.<span class="dv">5</span>, <span class="at">linetype=</span><span class="st">"dashed"</span>, <span class="at">hjust =</span> .<span class="dv">9</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>) <span class="sc">+</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_textvline</span>(<span class="at">label =</span> <span class="st">"1 SD from mean"</span>, <span class="at">xintercept=</span>(<span class="fu">mean</span>(participant_list_eye_tracking<span class="sc">$</span>mean_col) <span class="sc">-</span> <span class="fu">sd</span>(participant_list_eye_tracking<span class="sc">$</span>mean_col)), </span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color =</span> <span class="st">"orange"</span>, <span class="at">vjust =</span> <span class="sc">-</span>.<span class="dv">5</span>, <span class="at">linetype=</span><span class="st">"dashed"</span>, <span class="at">hjust =</span> .<span class="dv">9</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>) <span class="sc">+</span> </span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">#55% threshold</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_textvline</span>(<span class="at">label =</span> <span class="st">"55% threshold"</span>, <span class="at">xintercept =</span> <span class="dv">53</span>, <span class="at">color =</span> <span class="st">"cyan"</span>, <span class="at">vjust =</span> <span class="sc">-</span>.<span class="dv">5</span>, <span class="at">hjust =</span> .<span class="dv">9</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>) <span class="sc">+</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a><span class="co"># set plot titles</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Distribution of validation scores"</span>, <span class="at">subtitle =</span> <span class="st">"Higher score of 2 validation rounds, where applicable; binwidth = 2"</span>) <span class="sc">+</span> </span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a><span class="co"># set axis labels</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">"Validation score (%)"</span>, <span class="at">limits=</span><span class="fu">c</span>(<span class="sc">-</span><span class="dv">11</span>, <span class="dv">105</span>), <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Preprocessing_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="box-and-whisker-plot-validation-scores-of-all-participants" class="level3">
<h3 class="anchored" data-anchor-id="box-and-whisker-plot-validation-scores-of-all-participants">Box and whisker plot, validation scores of all participants</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(participant_list_eye_tracking, <span class="fu">aes</span>(<span class="at">x =</span> mean_col))<span class="sc">+</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">"Validation score (%)"</span>, </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">limits=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>), </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>(<span class="at">base_size=</span><span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>, <span class="st">"cm"</span>), </span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">18</span>), </span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>), </span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>)) <span class="sc">+</span>  </span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Distribution of validation scores"</span>, <span class="at">subtitle =</span> <span class="st">"Higher score of 2 rounds where applicable"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Preprocessing_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="descriptive-statistics-for-each-validation-point" class="level3">
<h3 class="anchored" data-anchor-id="descriptive-statistics-for-each-validation-point">Descriptive statistics for each validation point</h3>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#table for each validation point, mean, sd of validation scores</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>m1 <span class="ot">&lt;-</span> <span class="fu">favstats</span>(narrow_participant_list_eye_tracking<span class="sc">$</span>list_percent<span class="fl">.1</span>) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">point =</span><span class="st">"[25, 25]"</span>, <span class="at">.before =</span> min)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>m2 <span class="ot">&lt;-</span> <span class="fu">favstats</span>(narrow_participant_list_eye_tracking<span class="sc">$</span>list_percent<span class="fl">.2</span>) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">point =</span><span class="st">"[75, 25]"</span>, <span class="at">.before =</span> min)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>m3 <span class="ot">&lt;-</span> <span class="fu">favstats</span>(narrow_participant_list_eye_tracking<span class="sc">$</span>list_percent<span class="fl">.3</span>) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">point =</span><span class="st">"[50, 50]"</span>, <span class="at">.before =</span> min)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>m4 <span class="ot">&lt;-</span> <span class="fu">favstats</span>(narrow_participant_list_eye_tracking<span class="sc">$</span>list_percent<span class="fl">.4</span>) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">point =</span><span class="st">"[25,75]"</span>, <span class="at">.before =</span> min)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>m5 <span class="ot">&lt;-</span> <span class="fu">favstats</span>(narrow_participant_list_eye_tracking<span class="sc">$</span>list_percent<span class="fl">.5</span>) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">point =</span><span class="st">"[75, 75]"</span>, <span class="at">.before =</span> min)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co">#descriptive stats for each validation point</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>each_validation_point <span class="ot">&lt;-</span> <span class="fu">rbind</span>(m1, m2, m3, m4, m5) </span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(each_validation_point) <span class="ot">&lt;-</span> <span class="cn">NULL</span> <span class="co">#turn off automatically assigned row names</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(each_validation_point, <span class="at">align=</span><span class="st">"c"</span>, </span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>             <span class="at">caption =</span> <span class="st">"**Participants who passed the 55% threshold, validation scores on each data point**"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<caption><strong>Participants who passed the 55% threshold, validation scores on each data point</strong></caption>
<colgroup>
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 12%">
<col style="width: 5%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 4%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">point</th>
<th style="text-align: center;">min</th>
<th style="text-align: center;">Q1</th>
<th style="text-align: center;">median</th>
<th style="text-align: center;">Q3</th>
<th style="text-align: center;">max</th>
<th style="text-align: center;">mean</th>
<th style="text-align: center;">sd</th>
<th style="text-align: center;">n</th>
<th style="text-align: center;">missing</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">[25, 25]</td>
<td style="text-align: center;">0.00000</td>
<td style="text-align: center;">85.78579</td>
<td style="text-align: center;">96.21859</td>
<td style="text-align: center;">100.00000</td>
<td style="text-align: center;">100</td>
<td style="text-align: center;">85.91404</td>
<td style="text-align: center;">23.22511</td>
<td style="text-align: center;">36</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="even">
<td style="text-align: center;">[75, 25]</td>
<td style="text-align: center;">0.00000</td>
<td style="text-align: center;">56.69643</td>
<td style="text-align: center;">80.81832</td>
<td style="text-align: center;">97.44521</td>
<td style="text-align: center;">100</td>
<td style="text-align: center;">69.97007</td>
<td style="text-align: center;">31.27701</td>
<td style="text-align: center;">36</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="odd">
<td style="text-align: center;">[50, 50]</td>
<td style="text-align: center;">35.13514</td>
<td style="text-align: center;">82.00140</td>
<td style="text-align: center;">92.43717</td>
<td style="text-align: center;">100.00000</td>
<td style="text-align: center;">100</td>
<td style="text-align: center;">86.81598</td>
<td style="text-align: center;">16.32402</td>
<td style="text-align: center;">36</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="even">
<td style="text-align: center;">[25,75]</td>
<td style="text-align: center;">0.00000</td>
<td style="text-align: center;">15.54054</td>
<td style="text-align: center;">73.76931</td>
<td style="text-align: center;">90.29680</td>
<td style="text-align: center;">100</td>
<td style="text-align: center;">55.71681</td>
<td style="text-align: center;">39.47861</td>
<td style="text-align: center;">36</td>
<td style="text-align: center;">0</td>
</tr>
<tr class="odd">
<td style="text-align: center;">[75, 75]</td>
<td style="text-align: center;">0.00000</td>
<td style="text-align: center;">12.58600</td>
<td style="text-align: center;">65.68034</td>
<td style="text-align: center;">88.51351</td>
<td style="text-align: center;">100</td>
<td style="text-align: center;">55.20860</td>
<td style="text-align: center;">38.92314</td>
<td style="text-align: center;">36</td>
<td style="text-align: center;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="reaction-time-data" class="level2">
<h2 class="anchored" data-anchor-id="reaction-time-data">Reaction time data</h2>
<section id="cleanup" class="level3">
<h3 class="anchored" data-anchor-id="cleanup">Cleanup</h3>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>remove_brackets <span class="ot">&lt;-</span> <span class="cf">function</span>(col) {</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">[|</span><span class="sc">\\</span><span class="st">]"</span>, <span class="st">""</span>, col)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># load data on the frame just before liquid appears, in milliseconds</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>frame_before_outcome <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"ReactionTime_FrameBeforeOutcome.csv"</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>df_reaction_time <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> <span class="fu">select</span>(participant, trial_index, rt, stimulus, response) <span class="sc">|&gt;</span> <span class="fu">drop_na</span>()</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>reactionTime <span class="ot">&lt;-</span> df_reaction_time <span class="sc">|&gt;</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(trial_index <span class="sc">&gt;</span> <span class="dv">14</span>)  <span class="sc">|&gt;</span> <span class="co"># remove NA due to on-screen instructions appeared before trial_index 14 (response not captured)</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(trial_index <span class="sc">!=</span> <span class="dv">16</span>) <span class="sc">|&gt;</span> </span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(stimulus <span class="sc">!=</span> <span class="st">"img/plus_thin.png"</span>) <span class="sc">|&gt;</span> <span class="co"># remove NA during fixation cross</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">'&gt;'</span>, stimulus)) <span class="sc">|&gt;</span> </span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stimulus =</span> <span class="fu">remove_brackets</span>(stimulus)) <span class="sc">|&gt;</span> <span class="co"># remove brackets</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stimulus =</span> <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">..*"</span>, <span class="st">""</span>, stimulus)) <span class="sc">|&gt;</span> <span class="co">#remove file extension .mp4</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stimulus =</span> <span class="fu">gsub</span>(<span class="st">".*/"</span>,<span class="st">""</span>, stimulus)) <span class="sc">|&gt;</span> <span class="co">#remove filepath videos/</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  <span class="co">#rename the human stimuli as file names too terse</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stimulus =</span> <span class="fu">str_replace_all</span>(stimulus, <span class="at">pattern =</span> <span class="st">"HBC"</span>, <span class="at">replacement =</span> <span class="st">"HumanBioCorrect"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stimulus =</span> <span class="fu">str_replace_all</span>(stimulus, <span class="at">pattern =</span> <span class="st">"HBS"</span>, <span class="at">replacement =</span> <span class="st">"HumanBioSpill"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stimulus =</span> <span class="fu">str_replace_all</span>(stimulus, <span class="at">pattern =</span> <span class="st">"HNBC"</span>, <span class="at">replacement =</span> <span class="st">"HumanNonbioCorrect"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stimulus =</span> <span class="fu">str_replace_all</span>(stimulus, <span class="at">pattern =</span> <span class="st">"HNBS"</span>, <span class="at">replacement =</span> <span class="st">"HumanNonbioSpill"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(participant) <span class="sc">|&gt;</span> </span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">trial_index =</span> <span class="fu">dense_rank</span>(<span class="fu">desc</span>(trial_index))) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a><span class="co"># add column to indicate if the condition was "Correct" (f) or "Error" (j)</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a><span class="co"># the stimulus names (video file names) contains the string "Spill" or "Correct"</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">correct_answer =</span> <span class="fu">case_when</span>(</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_detect</span>(stimulus, <span class="st">"Spill"</span>) <span class="sc">~</span> <span class="st">"j"</span>, <span class="fu">str_detect</span>(stimulus, <span class="st">"Correct"</span>) <span class="sc">~</span> <span class="st">"f"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a><span class="co"># reaction time data were saved by jsPsych as string, we convert to numeric</span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rt =</span> <span class="fu">as.numeric</span>(rt))  <span class="sc">|&gt;</span> </span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a><span class="co"># join with csv frame_before_outcome loaded above </span></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(frame_before_outcome) <span class="sc">|&gt;</span> </span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a><span class="co"># add column to calculate how much in advance participants gave key-press response</span></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rt.adjusted =</span> (pour_moment <span class="sc">-</span> rt)) <span class="sc">|&gt;</span> </span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add column of booleans comparing whether participants' answers were correct</span></span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">accuracy =</span> <span class="fu">case_when</span>(</span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>  (response <span class="sc">==</span> correct_answer) <span class="sc">~</span> <span class="cn">TRUE</span>, </span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>  (response <span class="sc">!=</span> correct_answer) <span class="sc">~</span> <span class="cn">FALSE</span></span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a>), <span class="at">.before =</span> pour_moment)</span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>(<span class="fu">head</span>(reactionTime, <span class="at">n =</span> <span class="dv">15</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["participant"],"name":[1],"type":["chr"],"align":["left"]},{"label":["trial_index"],"name":[2],"type":["int"],"align":["right"]},{"label":["rt"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["stimulus"],"name":[4],"type":["chr"],"align":["left"]},{"label":["response"],"name":[5],"type":["chr"],"align":["left"]},{"label":["correct_answer"],"name":[6],"type":["chr"],"align":["left"]},{"label":["accuracy"],"name":[7],"type":["lgl"],"align":["right"]},{"label":["pour_moment"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["rt.adjusted"],"name":[9],"type":["dbl"],"align":["right"]}],"data":[{"1":"V001","2":"36","3":"4172","4":"TheoBioSpill","5":"f","6":"j","7":"FALSE","8":"5167","9":"995"},{"1":"V001","2":"35","3":"3996","4":"TheoNonbioCorrect","5":"f","6":"f","7":"TRUE","8":"5208","9":"1212"},{"1":"V001","2":"34","3":"4808","4":"TheoNonbioSpill","5":"f","6":"j","7":"FALSE","8":"5250","9":"442"},{"1":"V001","2":"33","3":"4642","4":"MiloNonbioSpill","5":"f","6":"j","7":"FALSE","8":"5167","9":"525"},{"1":"V001","2":"32","3":"5704","4":"HumanNonbioSpill","5":"f","6":"j","7":"FALSE","8":"5333","9":"-371"},{"1":"V001","2":"31","3":"5294","4":"MiloBioCorrect","5":"f","6":"f","7":"TRUE","8":"5208","9":"-86"},{"1":"V001","2":"30","3":"4973","4":"MiloNonbioCorrect","5":"f","6":"f","7":"TRUE","8":"5208","9":"235"},{"1":"V001","2":"29","3":"4918","4":"HumanBioCorrect","5":"f","6":"f","7":"TRUE","8":"5375","9":"457"},{"1":"V001","2":"28","3":"4178","4":"HumanBioSpill","5":"f","6":"j","7":"FALSE","8":"5208","9":"1030"},{"1":"V001","2":"27","3":"4300","4":"MiloBioSpill","5":"j","6":"j","7":"TRUE","8":"4958","9":"658"},{"1":"V001","2":"26","3":"3497","4":"HumanNonbioCorrect","5":"j","6":"f","7":"FALSE","8":"5333","9":"1836"},{"1":"V001","2":"25","3":"5199","4":"TheoBioCorrect","5":"f","6":"f","7":"TRUE","8":"5208","9":"9"},{"1":"V001","2":"24","3":"5758","4":"HumanBioCorrect","5":"f","6":"f","7":"TRUE","8":"5375","9":"-383"},{"1":"V001","2":"23","3":"5499","4":"MiloNonbioCorrect","5":"f","6":"f","7":"TRUE","8":"5208","9":"-291"},{"1":"V001","2":"22","3":"5556","4":"MiloNonbioSpill","5":"j","6":"j","7":"TRUE","8":"5167","9":"-389"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p><strong>Calculate accuracy rate for each participant</strong></p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># group_by participant to work on exclusion 3</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>accuracy_for_each_participant <span class="ot">&lt;-</span> reactionTime <span class="sc">|&gt;</span> <span class="fu">group_by</span>(participant, accuracy) <span class="sc">|&gt;</span> <span class="fu">count</span>() <span class="sc">|&gt;</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percent_accuracy =</span> n <span class="sc">/</span> <span class="dv">36</span> <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">|&gt;</span> <span class="fu">filter</span>(accuracy <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>(<span class="fu">head</span>(accuracy_for_each_participant))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["participant"],"name":[1],"type":["chr"],"align":["left"]},{"label":["accuracy"],"name":[2],"type":["lgl"],"align":["right"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]},{"label":["percent_accuracy"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"V001","2":"TRUE","3":"29","4":"80.55556"},{"1":"V002","2":"TRUE","3":"31","4":"86.11111"},{"1":"V003","2":"TRUE","3":"31","4":"86.11111"},{"1":"V004","2":"TRUE","3":"32","4":"88.88889"},{"1":"V005","2":"TRUE","3":"35","4":"97.22222"},{"1":"V006","2":"TRUE","3":"35","4":"97.22222"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="apply-exclusions-exclusion-3---2---1" class="level3">
<h3 class="anchored" data-anchor-id="apply-exclusions-exclusion-3---2---1">Apply exclusions (Exclusion 3 -&gt; 2 -&gt; 1)</h3>
<p><strong>Exclusions as preregistered</strong> 1) exclude implausible reaction times (implausible = react within first 25% of video time) 2) exclude those who fail to give a key-press response for &gt; 20% of videos (i.e., more than 7 trials), indicate distraction or misunderstood instructions. 3) exclude participants &gt; 20% misjudgment, i.e., &lt; 80% accuracy</p>
</section>
<section id="exclusion-3" class="level3">
<h3 class="anchored" data-anchor-id="exclusion-3">Exclusion 3</h3>
<p>Exclude participants who got &lt; 80% accuracy overall, i.e., judged 8 videos wrong</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>low_accuracy_participants <span class="ot">&lt;-</span> accuracy_for_each_participant <span class="sc">|&gt;</span> <span class="fu">filter</span>(percent_accuracy <span class="sc">&lt;</span> <span class="dv">80</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co"># excluding 3 people (so far)</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co"># participants V14, V39, V52 will be excluded</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co"># copy the main df to play around</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>reactionTime_copy <span class="ot">&lt;-</span> reactionTime</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>reactionTime_copy <span class="ot">&lt;-</span> reactionTime_copy <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">'V014|V039|V052'</span>, participant))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="exclusion-2" class="level3">
<h3 class="anchored" data-anchor-id="exclusion-2">Exclusion 2</h3>
<p>Exclude participants who gave more than 7 NULL key-press responses</p>
<p>We can see that the highest number of NULL response (i.e., participants gave no key-press response during stimuli) was 3 trials. Nobody is excluded on Exclusion 2!</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>na_in_response_time <span class="ot">&lt;-</span> reactionTime_copy <span class="sc">|&gt;</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">na_response_time =</span> <span class="sc">!</span><span class="fu">is.na</span>(reactionTime_copy<span class="sc">$</span>rt.adjusted)) <span class="sc">|&gt;</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(participant, na_response_time) <span class="sc">|&gt;</span> <span class="fu">count</span>() <span class="sc">|&gt;</span> </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># if we </span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(na_response_time <span class="sc">==</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>(<span class="fu">head</span>(na_in_response_time))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["participant"],"name":[1],"type":["chr"],"align":["left"]},{"label":["na_response_time"],"name":[2],"type":["lgl"],"align":["right"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"V024","2":"FALSE","3":"3"},{"1":"V004","2":"FALSE","3":"2"},{"1":"V015","2":"FALSE","3":"2"},{"1":"V036","2":"FALSE","3":"2"},{"1":"V003","2":"FALSE","3":"1"},{"1":"V006","2":"FALSE","3":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="exclusion-1" class="level3">
<h3 class="anchored" data-anchor-id="exclusion-1">Exclusion 1</h3>
<p>Exclude implausible reaction times (replace with NA) Here we are excluding data, not participants.</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>process_implausible_reaction_times <span class="ot">&lt;-</span> reactionTime_copy <span class="sc">|&gt;</span> <span class="fu">select</span>(participant, trial_index, rt, pour_moment) <span class="sc">|&gt;</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># responding during first 25% of movement is considered implausible</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">implausible =</span> pour_moment<span class="sc">/</span><span class="dv">4</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rt_implausible =</span> <span class="fu">case_when</span>(rt <span class="sc">&lt;</span>implausible <span class="sc">~</span> <span class="st">"replace_with_na"</span>, </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>                                    rt <span class="sc">&gt;=</span> implausible <span class="sc">~</span> <span class="st">"include"</span>))</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co"># if we examine the column rt_implausible, we see that only 1 participant had 1 implausible</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>examine_implausble <span class="ot">&lt;-</span> process_implausible_reaction_times <span class="sc">|&gt;</span> <span class="fu">filter</span>(rt_implausible <span class="sc">==</span> <span class="st">"replace_with_na"</span>)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">CAUTION</span><span class="co">: Dataframe modified in place. </span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>reactionTime_copy <span class="ot">&lt;-</span> reactionTime_copy <span class="sc">|&gt;</span> </span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rt =</span> <span class="fu">replace</span>(rt, participant<span class="sc">==</span><span class="st">"V015"</span> <span class="sc">&amp;</span> trial_index<span class="sc">==</span><span class="dv">2</span>, <span class="cn">NA</span>), </span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">rt.adjusted =</span> <span class="fu">replace</span>(rt.adjusted, participant<span class="sc">==</span><span class="st">"V015"</span> <span class="sc">&amp;</span> trial_index<span class="sc">==</span><span class="dv">2</span>, <span class="cn">NA</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="treatment-of-late-responses-and-wrong-responses" class="level3">
<h3 class="anchored" data-anchor-id="treatment-of-late-responses-and-wrong-responses">Treatment of late responses and wrong responses</h3>
<p>Wrong responses become NAs</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>reactionTime_remove_wrongResponse <span class="ot">&lt;-</span> reactionTime_copy <span class="sc">|&gt;</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">response_time_for_analysis =</span> <span class="fu">case_when</span>(accuracy <span class="sc">==</span> <span class="cn">FALSE</span> <span class="sc">~</span> <span class="cn">NA</span>,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>                            accuracy <span class="sc">==</span> <span class="cn">TRUE</span> <span class="sc">~</span> rt.adjusted))</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co">#sum(!complete.cases(reactionTime_remove_wrongResponse$response_time_for_analysis))</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="co"># out of 60 participants</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 192 wrong responses removed out of 2161 trials</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 8.8% of responses were wrong</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>reactionTime_preprocess <span class="ot">&lt;-</span> reactionTime_remove_wrongResponse <span class="sc">|&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(stimulus <span class="sc">!=</span> <span class="st">"Practice_dog_medium"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(trial_index, rt, response, correct_answer, accuracy, pour_moment, </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>            rt.adjusted)) <span class="sc">|&gt;</span> </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(participant, stimulus) <span class="sc">|&gt;</span> </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate mean for 3 rounds of participants' response times</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mean_of_3_rounds =</span> <span class="fu">mean</span>(response_time_for_analysis, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co"># filter(!is.nan(mean_of_3_rounds)) |&gt; </span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>response_time_for_analysis) <span class="sc">|&gt;</span> <span class="fu">distinct</span>() <span class="sc">|&gt;</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="co"># after combining into mean, only 1 data point was NA</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="co"># sum(!complete.cases(reactionTime_preprocess$mean_of_3_rounds)) # 1</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="co"># create columns for different conditions, for plotting</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">agent =</span> <span class="fu">case_when</span>(</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Human"</span>) <span class="sc">~</span> <span class="st">"Human"</span>, </span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Milo"</span>) <span class="sc">~</span> <span class="st">"Humanoid"</span>, </span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Theo"</span>) <span class="sc">~</span> <span class="st">"Robotic Arm"</span>, </span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">motion_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Bio"</span>) <span class="sc">~</span> <span class="st">"Biological"</span>,</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Nonbio"</span>) <span class="sc">~</span> <span class="st">"Nonbiological"</span>, </span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">outcome_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Correct"</span>) <span class="sc">~</span> <span class="st">"Correct"</span>, </span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Spill"</span>) <span class="sc">~</span> <span class="st">"Error"</span></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span> <span class="fu">filter</span>(stimulus <span class="sc">!=</span> <span class="st">"Practice_medium_dog"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">stimulus =</span> <span class="fu">factor</span>(stimulus, </span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>                           <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"TheoBioCorrect"</span>, <span class="st">"TheoBioSpill"</span>, </span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"TheoNonbioCorrect"</span>, <span class="st">"TheoNonbioSpill"</span>, </span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"MiloBioCorrect"</span>, <span class="st">"MiloBioSpill"</span>, </span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"MiloNonbioCorrect"</span>, <span class="st">"MiloNonbioSpill"</span>, </span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"HumanBioCorrect"</span>, <span class="st">"HumanBioSpill"</span>, </span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"HumanNonbioCorrect"</span>, <span class="st">"HumanNonbioSpill"</span>)))</span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>reactionTime_preprocess <span class="ot">&lt;-</span> reactionTime_preprocess <span class="sc">|&gt;</span> </span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mean_of_3_rounds =</span> <span class="fu">case_when</span>(mean_of_3_rounds <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">200</span> <span class="sc">~</span> <span class="cn">NA</span>, </span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>                                      <span class="cn">TRUE</span> <span class="sc">~</span> mean_of_3_rounds)) </span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a><span class="co"># participants to be excluded due to late responses: 7 people</span></span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a><span class="co">#2, 4, 8, 16, 17, 32, 34</span></span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a>reactionTime_preprocess <span class="ot">&lt;-</span> reactionTime_preprocess <span class="sc">|&gt;</span> </span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>participant <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"V002"</span>, <span class="st">"V004"</span>, <span class="st">"V008"</span>, </span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"V016"</span>, <span class="st">"V017"</span>, <span class="st">"V032"</span>, <span class="st">"V034"</span>))</span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="sc">!</span><span class="fu">complete.cases</span>(reactionTime_preprocess<span class="sc">$</span>mean_of_3_rounds)) <span class="co">#92</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 92</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#52 participants remaining</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Impute mean of each stimulus for the NAs</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>reactionTime_impute <span class="ot">&lt;-</span> reactionTime_preprocess <span class="sc">|&gt;</span> <span class="fu">group_by</span>(stimulus) <span class="sc">|&gt;</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">stimulus_mean =</span> <span class="fu">mean</span>(mean_of_3_rounds, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># HumanBioCorrect 141.0958333</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co"># HumanBioSpill 332.0512821</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="co"># HumanNonbioCorrect 184.2254902</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co"># HumanNonbioSpill 321.3233333</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="co"># MiloBioCorrect 413.3137255</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="co"># MiloBioSpill 542.9198718</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="co"># MiloNonbioCorrect 16.7849462</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="co"># MiloNonbioSpill 0.7849462</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="co"># TheoBioCorrect 373.8472222</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="co"># TheoBioSpill 520.4519231</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a><span class="co"># TheoNonbioCorrect 110.2156863</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a><span class="co"># TheoNonbioSpill 110.9000000</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>IQR <span class="ot">&lt;-</span> <span class="fu">IQR</span>(reactionTime_preprocess<span class="sc">$</span>mean_of_3_rounds, <span class="at">na.rm =</span> T) <span class="co">#414.3401</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>(<span class="fl">1.5</span><span class="sc">*</span>IQR) <span class="co">#668.5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 669.375</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>Q1<span class="ot">&lt;-</span> <span class="fu">quantile</span>(reactionTime_preprocess<span class="sc">$</span>mean_of_3_rounds, <span class="fl">0.25</span>, <span class="at">na.rm =</span>T) <span class="co"># 37.66667 </span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>Q3<span class="ot">&lt;-</span> <span class="fu">quantile</span>(reactionTime_preprocess<span class="sc">$</span>mean_of_3_rounds, <span class="fl">0.75</span>, <span class="at">na.rm =</span>T) <span class="co"># 483.3333</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>reactionTime_preprocess_imputed <span class="ot">&lt;-</span> reactionTime_preprocess <span class="sc">|&gt;</span> </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mean_of_3_rounds =</span> <span class="fu">case_when</span>(mean_of_3_rounds <span class="sc">&gt;</span> <span class="fl">668.5</span> <span class="sc">~</span> <span class="cn">NA</span>, </span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>                                       <span class="cn">TRUE</span> <span class="sc">~</span> mean_of_3_rounds)) </span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: Before imputation, I had done the plotting. Uncomment the following lines 425-426 to create the data file (to run in ReactionTimeAnalysis.qmd)</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="co"># plotting_reactionTime &lt;- reactionTime_preprocess_imputed</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="co"># write_csv(plotting_reactionTime, "plottingReactionTime.csv")  </span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>reactionTime_preprocess_imputed <span class="ot">&lt;-</span> reactionTime_preprocess_imputed <span class="sc">|&gt;</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">mean_of_3_rounds =</span> <span class="fu">case_when</span>(</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>    stimulus <span class="sc">==</span> <span class="st">"HumanBioCorrect"</span> <span class="sc">&amp;&amp;</span> <span class="fu">is.na</span>(mean_of_3_rounds) <span class="sc">~</span> <span class="fl">141.0958333</span>,</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>    stimulus <span class="sc">==</span> <span class="st">"HumanBioSpill"</span> <span class="sc">&amp;&amp;</span> <span class="fu">is.na</span>(mean_of_3_rounds) <span class="sc">~</span> <span class="fl">332.0512821</span>, </span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>    stimulus <span class="sc">==</span> <span class="st">"HumanNonbioCorrect"</span> <span class="sc">&amp;&amp;</span> <span class="fu">is.na</span>(mean_of_3_rounds) <span class="sc">~</span> <span class="fl">184.2254902</span>,</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    stimulus <span class="sc">==</span> <span class="st">"HumanNonbioSpill"</span> <span class="sc">&amp;&amp;</span> <span class="fu">is.na</span>(mean_of_3_rounds) <span class="sc">~</span> <span class="fl">321.3233333</span>,</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>    stimulus <span class="sc">==</span> <span class="st">"MiloBioCorrect"</span> <span class="sc">&amp;&amp;</span> <span class="fu">is.na</span>(mean_of_3_rounds) <span class="sc">~</span> <span class="fl">413.3137255</span>, </span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>    stimulus <span class="sc">==</span> <span class="st">"MiloBioSpill"</span> <span class="sc">&amp;&amp;</span> <span class="fu">is.na</span>(mean_of_3_rounds) <span class="sc">~</span> <span class="fl">542.9198718</span>,</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    stimulus <span class="sc">==</span> <span class="st">"MiloNonbioCorrect"</span> <span class="sc">&amp;&amp;</span> <span class="fu">is.na</span>(mean_of_3_rounds) <span class="sc">~</span> <span class="fl">16.7849462</span>,</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    stimulus <span class="sc">==</span> <span class="st">"MiloNonbioSpill"</span> <span class="sc">&amp;&amp;</span> <span class="fu">is.na</span>(mean_of_3_rounds) <span class="sc">~</span> <span class="fl">0.7849462</span>, </span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>    stimulus <span class="sc">==</span> <span class="st">"TheoBioCorrect"</span> <span class="sc">&amp;&amp;</span> <span class="fu">is.na</span>(mean_of_3_rounds) <span class="sc">~</span> <span class="fl">373.8472222</span>, </span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>    stimulus <span class="sc">==</span> <span class="st">"TheoBioSpill"</span> <span class="sc">&amp;&amp;</span> <span class="fu">is.na</span>(mean_of_3_rounds) <span class="sc">~</span> <span class="fl">520.4519231</span>, </span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>    stimulus <span class="sc">==</span> <span class="st">"TheoNonbioCorrect"</span> <span class="sc">&amp;&amp;</span> <span class="fu">is.na</span>(mean_of_3_rounds) <span class="sc">~</span> <span class="fl">110.2156863</span>, </span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>    stimulus <span class="sc">==</span> <span class="st">"TheoNonbioSpill"</span> <span class="sc">&amp;&amp;</span> <span class="fu">is.na</span>(mean_of_3_rounds) <span class="sc">~</span> <span class="fl">110.9</span>, </span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>                                       <span class="cn">TRUE</span> <span class="sc">~</span> mean_of_3_rounds))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(reactionTime_preprocess_imputed<span class="sc">$</span>mean_of_3_rounds, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="co"># 255.6595</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 210.7072</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(reactionTime_preprocess_imputed<span class="sc">$</span>mean_of_3_rounds, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="co">#186</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 184.6667</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">#sum(!complete.cases(reactionTime_preprocess_imputed$mean_of_3_rounds)) </span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>standard_error <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sd</span>(x)<span class="sc">/</span><span class="fu">sqrt</span>(<span class="fu">length</span>(x))</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>summary_statistics <span class="ot">&lt;-</span> reactionTime_preprocess_imputed <span class="sc">|&gt;</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(stimulus) <span class="sc">|&gt;</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(mean_of_3_rounds, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">sd =</span> <span class="fu">sd</span>(mean_of_3_rounds, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">se =</span> sd<span class="sc">/</span><span class="fu">sqrt</span>(<span class="fu">length</span>(mean_of_3_rounds))) <span class="sc">|&gt;</span> </span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">agent =</span> <span class="fu">case_when</span>(</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Human"</span>) <span class="sc">~</span> <span class="st">"Human"</span>, </span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Milo"</span>) <span class="sc">~</span> <span class="st">"Humanoid"</span>, </span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Theo"</span>) <span class="sc">~</span> <span class="st">"Robotic Arm"</span>, </span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">motion_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Bio"</span>) <span class="sc">~</span> <span class="st">"Biological"</span>,</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Nonbio"</span>) <span class="sc">~</span> <span class="st">"Nonbiological"</span>, </span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">outcome_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Correct"</span>) <span class="sc">~</span> <span class="st">"Correct"</span>, </span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Spill"</span>) <span class="sc">~</span> <span class="st">"Error"</span>))</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a><span class="co">#write_csv(reactionTime_preprocess_imputed, "reactionTime_preprocess.csv")</span></span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a><span class="co">#write_csv(summary_statistics, "reactionTime_summary_statistics.csv")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>accuracy_by_condition_inTimeOnly <span class="ot">&lt;-</span> reactionTime_copy <span class="sc">|&gt;</span> </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(stimulus <span class="sc">!=</span> <span class="st">"Practice_dog_medium"</span>) <span class="sc">|&gt;</span> <span class="fu">filter</span>(rt.adjusted <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(stimulus, accuracy) <span class="sc">|&gt;</span> <span class="fu">count</span>() <span class="sc">|&gt;</span> </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(stimulus) <span class="sc">|&gt;</span> </span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percentage_n =</span> <span class="fu">round</span>( (n<span class="sc">/</span><span class="fu">sum</span>(n))<span class="sc">*</span><span class="dv">100</span>, <span class="at">digits=</span><span class="dv">1</span>) )</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>accuracy_by_condition_inTimeOnly <span class="sc">|&gt;</span> </span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stimulus =</span> <span class="fu">factor</span>(stimulus, </span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>                              <span class="at">levels=</span> <span class="fu">c</span>(<span class="st">"TheoBioCorrect"</span>, <span class="st">"TheoBioSpill"</span>, <span class="st">"TheoNonbioCorrect"</span>, <span class="st">"TheoNonbioSpill"</span>, </span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"MiloBioCorrect"</span>, <span class="st">"MiloBioSpill"</span>, <span class="st">"MiloNonbioCorrect"</span>, <span class="st">"MiloNonbioSpill"</span>, </span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"HumanBioCorrect"</span>, <span class="st">"HumanBioSpill"</span>, <span class="st">"HumanNonbioCorrect"</span>, <span class="st">"HumanNonbioSpill"</span>)</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>                                )) <span class="sc">|&gt;</span> </span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">agent =</span> <span class="fu">case_when</span>(</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Human"</span>) <span class="sc">~</span> <span class="st">"Human"</span>, </span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Milo"</span>) <span class="sc">~</span> <span class="st">"Humanoid"</span>, </span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Theo"</span>) <span class="sc">~</span> <span class="st">"Robotic Arm"</span>, </span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span> <span class="fu">fct_rev</span>(stimulus), <span class="at">y =</span> n, <span class="at">fill =</span> accuracy, <span class="at">label =</span> <span class="fu">paste0</span>(percentage_n,<span class="st">"%"</span>))) <span class="sc">+</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">'dodge'</span>, <span class="at">width =</span> .<span class="dv">6</span>) <span class="sc">+</span></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.5</span>,</span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> .<span class="dv">75</span>)) <span class="sc">+</span></span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">title=</span><span class="st">"Key-Press Response Accuracy"</span>, <span class="at">reverse=</span> <span class="cn">TRUE</span>)) <span class="sc">+</span> </span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_discrete</span>(<span class="at">name =</span> <span class="st">"Conditions"</span>, <span class="at">labels =</span> labels_reverse, <span class="at">expand =</span> <span class="fu">c</span>(<span class="fl">0.02</span>, <span class="dv">0</span>, .<span class="dv">08</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Number of responses"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>), <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">180</span>)) <span class="sc">+</span></span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>(<span class="at">labels=</span><span class="fu">c</span>(<span class="st">'Wrong Response'</span>, <span class="st">'Correct Response'</span>))<span class="sc">+</span></span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_linedraw</span>() <span class="sc">+</span></span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>, <span class="st">"cm"</span>), </span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">22</span>), </span>
<span id="cb28-30"><a href="#cb28-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">18</span>),</span>
<span id="cb28-31"><a href="#cb28-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">14</span>), </span>
<span id="cb28-32"><a href="#cb28-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face=</span><span class="st">"bold"</span>),</span>
<span id="cb28-33"><a href="#cb28-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>, <span class="at">face=</span><span class="st">"bold"</span>), </span>
<span id="cb28-34"><a href="#cb28-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text.x =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">16</span>, <span class="at">face=</span><span class="st">"bold"</span>), </span>
<span id="cb28-35"><a href="#cb28-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position=</span><span class="st">"bottom"</span>) <span class="sc">+</span> </span>
<span id="cb28-36"><a href="#cb28-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"How many key-presses were wrong? (Late responses EXCLUDED)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="exploring-late-responses" class="level3">
<h3 class="anchored" data-anchor-id="exploring-late-responses">Exploring Late Responses</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>late <span class="ot">&lt;-</span> reactionTime_copy <span class="sc">|&gt;</span> </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(stimulus <span class="sc">!=</span> <span class="st">"Practice_dog_medium"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">in_time_or_late_response =</span> <span class="fu">case_when</span>(predict_in_advance <span class="sc">&gt;=</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"in time"</span>, </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>                                              predict_in_advance <span class="sc">&lt;</span><span class="dv">0</span> <span class="sc">~</span> <span class="st">"late"</span>)) </span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co">#count how many in-time, late, NA</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>late_count <span class="ot">&lt;-</span> late <span class="sc">|&gt;</span> <span class="fu">group_by</span>(stimulus, in_time_or_late_response) <span class="sc">|&gt;</span> <span class="fu">count</span>()</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co">#print(late_count)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="half-violin" class="level3">
<h3 class="anchored" data-anchor-id="half-violin">Half violin</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="st">"%||%"</span> <span class="ot">&lt;-</span> <span class="cf">function</span>(a, b) {</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(a)) a <span class="cf">else</span> b</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>geom_flat_violin <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">mapping =</span> <span class="cn">NULL</span>, <span class="at">data =</span> <span class="cn">NULL</span>, <span class="at">stat =</span> <span class="st">"ydensity"</span>,</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>                             <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">trim =</span> <span class="cn">TRUE</span>, <span class="at">scale =</span> <span class="st">"area"</span>,</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>                             <span class="at">show.legend =</span> <span class="cn">NA</span>, <span class="at">inherit.aes =</span> <span class="cn">TRUE</span>, ...) {</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layer</span>(</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> data,</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> mapping,</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">stat =</span> stat,</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> GeomFlatViolin,</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> position,</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> show.legend,</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">inherit.aes =</span> inherit.aes,</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">params =</span> <span class="fu">list</span>(</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">trim =</span> trim,</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">scale =</span> scale,</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>      ...</span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>GeomFlatViolin <span class="ot">&lt;-</span></span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggproto</span>(<span class="st">"Violinist"</span>, Geom,</span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a>          <span class="at">setup_data =</span> <span class="cf">function</span>(data, params) {</span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a>            data<span class="sc">$</span>width <span class="ot">&lt;-</span> data<span class="sc">$</span>width <span class="sc">%||%</span></span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a>              params<span class="sc">$</span>width <span class="sc">%||%</span> (<span class="fu">resolution</span>(data<span class="sc">$</span>x, <span class="cn">FALSE</span>) <span class="sc">*</span> <span class="fl">0.9</span>)</span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a>            <span class="co"># ymin, ymax, xmin, and xmax define the bounding rectangle for each group</span></span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a>            data <span class="sc">%&gt;%</span></span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a>              <span class="fu">group_by</span>(group) <span class="sc">%&gt;%</span></span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a>              <span class="fu">mutate</span>(<span class="at">ymin =</span> <span class="fu">min</span>(y),</span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a>                     <span class="at">ymax =</span> <span class="fu">max</span>(y),</span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a>                     <span class="at">xmin =</span> x,</span>
<span id="cb30-36"><a href="#cb30-36" aria-hidden="true" tabindex="-1"></a>                     <span class="at">xmax =</span> x <span class="sc">+</span> width <span class="sc">/</span> <span class="dv">2</span>)</span>
<span id="cb30-37"><a href="#cb30-37" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb30-38"><a href="#cb30-38" aria-hidden="true" tabindex="-1"></a>          },</span>
<span id="cb30-39"><a href="#cb30-39" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb30-40"><a href="#cb30-40" aria-hidden="true" tabindex="-1"></a>          <span class="at">draw_group =</span> <span class="cf">function</span>(data, panel_scales, coord) {</span>
<span id="cb30-41"><a href="#cb30-41" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Find the points for the line to go all the way around</span></span>
<span id="cb30-42"><a href="#cb30-42" aria-hidden="true" tabindex="-1"></a>            data <span class="ot">&lt;-</span> <span class="fu">transform</span>(data, <span class="at">xminv =</span> x,</span>
<span id="cb30-43"><a href="#cb30-43" aria-hidden="true" tabindex="-1"></a>                              <span class="at">xmaxv =</span> x <span class="sc">+</span> violinwidth <span class="sc">*</span> (xmax <span class="sc">-</span> x))</span>
<span id="cb30-44"><a href="#cb30-44" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb30-45"><a href="#cb30-45" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Make sure it's sorted properly to draw the outline</span></span>
<span id="cb30-46"><a href="#cb30-46" aria-hidden="true" tabindex="-1"></a>            newdata <span class="ot">&lt;-</span> <span class="fu">rbind</span>(plyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">transform</span>(data, <span class="at">x =</span> xminv), y),</span>
<span id="cb30-47"><a href="#cb30-47" aria-hidden="true" tabindex="-1"></a>                             plyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">transform</span>(data, <span class="at">x =</span> xmaxv), <span class="sc">-</span>y))</span>
<span id="cb30-48"><a href="#cb30-48" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb30-49"><a href="#cb30-49" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Close the polygon: set first and last point the same</span></span>
<span id="cb30-50"><a href="#cb30-50" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Needed for coord_polar and such</span></span>
<span id="cb30-51"><a href="#cb30-51" aria-hidden="true" tabindex="-1"></a>            newdata <span class="ot">&lt;-</span> <span class="fu">rbind</span>(newdata, newdata[<span class="dv">1</span>,])</span>
<span id="cb30-52"><a href="#cb30-52" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb30-53"><a href="#cb30-53" aria-hidden="true" tabindex="-1"></a>            ggplot2<span class="sc">:::</span><span class="fu">ggname</span>(<span class="st">"geom_flat_violin"</span>, GeomPolygon<span class="sc">$</span><span class="fu">draw_panel</span>(newdata, panel_scales, coord))</span>
<span id="cb30-54"><a href="#cb30-54" aria-hidden="true" tabindex="-1"></a>          },</span>
<span id="cb30-55"><a href="#cb30-55" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb30-56"><a href="#cb30-56" aria-hidden="true" tabindex="-1"></a>          <span class="at">draw_key =</span> draw_key_polygon,</span>
<span id="cb30-57"><a href="#cb30-57" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb30-58"><a href="#cb30-58" aria-hidden="true" tabindex="-1"></a>          <span class="at">default_aes =</span> <span class="fu">aes</span>(<span class="at">weight =</span> <span class="dv">1</span>, <span class="at">colour =</span> <span class="st">"grey20"</span>, <span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="fl">0.5</span>,</span>
<span id="cb30-59"><a href="#cb30-59" aria-hidden="true" tabindex="-1"></a>                            <span class="at">alpha =</span> <span class="cn">NA</span>, <span class="at">linetype =</span> <span class="st">"solid"</span>),</span>
<span id="cb30-60"><a href="#cb30-60" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb30-61"><a href="#cb30-61" aria-hidden="true" tabindex="-1"></a>          <span class="at">required_aes =</span> <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>)</span>
<span id="cb30-62"><a href="#cb30-62" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><strong>Deprecated: Distribution of all key-presses, including WRONG ones</strong></p>
<p><strong>In-time and Late Responses shown in different colors across the vertical “0” line</strong></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>late <span class="sc">|&gt;</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">agent =</span> <span class="fu">case_when</span>(</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Human"</span>) <span class="sc">~</span> <span class="st">"Human"</span>, </span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Milo"</span>) <span class="sc">~</span> <span class="st">"Humanoid"</span>, </span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Theo"</span>) <span class="sc">~</span> <span class="st">"Robotic Arm"</span>, </span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">stimulus =</span> <span class="fu">factor</span>(stimulus, </span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>                               <span class="at">levels=</span> <span class="fu">c</span>(<span class="st">"TheoBioCorrect"</span>, <span class="st">"TheoBioSpill"</span>, <span class="st">"TheoNonbioCorrect"</span>, <span class="st">"TheoNonbioSpill"</span>, </span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"MiloBioCorrect"</span>, <span class="st">"MiloBioSpill"</span>, <span class="st">"MiloNonbioCorrect"</span>, <span class="st">"MiloNonbioSpill"</span>, </span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"HumanBioCorrect"</span>, <span class="st">"HumanBioSpill"</span>, <span class="st">"HumanNonbioCorrect"</span>, <span class="st">"HumanNonbioSpill"</span>)</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>                                 )) <span class="sc">|&gt;</span> </span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_rev</span>(stimulus), <span class="at">y =</span> predict_in_advance, <span class="at">fill =</span> agent)) <span class="sc">+</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flat_violin</span>(<span class="at">position =</span> <span class="fu">position_nudge</span>(<span class="at">x =</span> .<span class="dv">25</span>, <span class="at">y =</span> <span class="dv">0</span>), </span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>                   <span class="at">trim=</span><span class="cn">FALSE</span>, <span class="at">alpha =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">color =</span> in_time_or_late_response), </span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">width =</span> .<span class="dv">2</span>, <span class="at">size =</span> .<span class="dv">5</span>, <span class="at">alpha =</span> .<span class="dv">75</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> .<span class="dv">1</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">fatten =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add a line to show where 0 is</span></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">vjust =</span> <span class="dv">1</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> <span class="st">"mean"</span>, <span class="at">geom =</span> <span class="st">"point"</span>,</span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>               <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.25</span>)) <span class="sc">+</span></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun.data =</span> <span class="st">"mean_se"</span>, <span class="at">geom =</span> <span class="st">"errorbar"</span>, <span class="at">width =</span> .<span class="dv">1</span>,</span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>               <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.3</span>)) <span class="sc">+</span></span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span> </span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>(<span class="at">alpha =</span> .<span class="dv">9</span>) <span class="sc">+</span></span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">name =</span> <span class="st">"Conditions"</span>, </span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>                   <span class="at">labels =</span> labels_reverse,</span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>                  <span class="at">expand =</span> <span class="fu">c</span>(<span class="fl">0.02</span>, <span class="dv">0</span>, .<span class="dv">08</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Key press response time"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="fl">0.02</span>, <span class="dv">0</span>, .<span class="dv">08</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_linedraw</span>() <span class="sc">+</span> </span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>, <span class="st">"cm"</span>), </span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">12</span>), </span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position=</span><span class="st">"none"</span></span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="fl">12.7</span>, <span class="at">y =</span> <span class="dv">10</span>,</span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">c</span>(<span class="st">"0 = Moment when outcome is shown"</span>), </span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a>           <span class="at">size=</span><span class="dv">5</span> , <span class="at">angle=</span><span class="dv">0</span>, <span class="at">fontface=</span><span class="st">"bold"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><strong>Deprecated: All Key Press Response Times, EXCLUDE wrong responses</strong></p>
<p><strong>In-time and Late Responses shown in different colors across the vertical “0” line</strong></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>late <span class="sc">|&gt;</span> <span class="fu">filter</span>(accuracy <span class="sc">==</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">agent =</span> <span class="fu">case_when</span>(</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Human"</span>) <span class="sc">~</span> <span class="st">"Human"</span>, </span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Milo"</span>) <span class="sc">~</span> <span class="st">"Humanoid"</span>, </span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Theo"</span>) <span class="sc">~</span> <span class="st">"Robotic Arm"</span>, </span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">stimulus =</span> <span class="fu">factor</span>(stimulus, </span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>                               <span class="at">levels=</span> <span class="fu">c</span>(<span class="st">"TheoBioCorrect"</span>, <span class="st">"TheoBioSpill"</span>, <span class="st">"TheoNonbioCorrect"</span>, <span class="st">"TheoNonbioSpill"</span>, </span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"MiloBioCorrect"</span>, <span class="st">"MiloBioSpill"</span>, <span class="st">"MiloNonbioCorrect"</span>, <span class="st">"MiloNonbioSpill"</span>, </span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"HumanBioCorrect"</span>, <span class="st">"HumanBioSpill"</span>, <span class="st">"HumanNonbioCorrect"</span>, <span class="st">"HumanNonbioSpill"</span>)</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>                                 )) <span class="sc">|&gt;</span> </span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_rev</span>(stimulus), <span class="at">y =</span> <span class="sc">-</span>(predict_in_advance), <span class="at">fill =</span> agent)) <span class="sc">+</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flat_violin</span>(<span class="at">position =</span> <span class="fu">position_nudge</span>(<span class="at">x =</span> .<span class="dv">25</span>, <span class="at">y =</span> <span class="dv">0</span>), </span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>                   <span class="at">trim=</span><span class="cn">FALSE</span>, <span class="at">alpha =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">color =</span> in_time_or_late_response), </span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">width =</span> .<span class="dv">2</span>, <span class="at">size =</span> .<span class="dv">5</span>, <span class="at">alpha =</span> .<span class="dv">75</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> .<span class="dv">1</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">fatten =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add a line to show where 0 is</span></span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">vjust =</span> <span class="dv">1</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> <span class="st">"mean"</span>, <span class="at">geom =</span> <span class="st">"point"</span>,</span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>               <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.25</span>)) <span class="sc">+</span></span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun.data =</span> <span class="st">"mean_se"</span>, <span class="at">geom =</span> <span class="st">"errorbar"</span>, <span class="at">width =</span> .<span class="dv">1</span>,</span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a>               <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.3</span>)) <span class="sc">+</span></span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span> </span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>(<span class="at">alpha =</span> .<span class="dv">9</span>) <span class="sc">+</span></span>
<span id="cb32-26"><a href="#cb32-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">name =</span> <span class="st">"Conditions"</span>, </span>
<span id="cb32-27"><a href="#cb32-27" aria-hidden="true" tabindex="-1"></a>                   <span class="at">labels =</span> labels_reverse,</span>
<span id="cb32-28"><a href="#cb32-28" aria-hidden="true" tabindex="-1"></a>                  <span class="at">expand =</span> <span class="fu">c</span>(<span class="fl">0.02</span>, <span class="dv">0</span>, .<span class="dv">08</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb32-29"><a href="#cb32-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Key press response time"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="fl">0.02</span>, <span class="dv">0</span>, .<span class="dv">08</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb32-30"><a href="#cb32-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_linedraw</span>() <span class="sc">+</span> </span>
<span id="cb32-31"><a href="#cb32-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>, <span class="st">"cm"</span>), </span>
<span id="cb32-32"><a href="#cb32-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>),</span>
<span id="cb32-33"><a href="#cb32-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">12</span>), </span>
<span id="cb32-34"><a href="#cb32-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position=</span><span class="st">"none"</span></span>
<span id="cb32-35"><a href="#cb32-35" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb32-36"><a href="#cb32-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="fl">12.7</span>, <span class="at">y =</span> <span class="dv">10</span>,</span>
<span id="cb32-37"><a href="#cb32-37" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">c</span>(<span class="st">"0 = Moment when outcome is shown"</span>), </span>
<span id="cb32-38"><a href="#cb32-38" aria-hidden="true" tabindex="-1"></a>           <span class="at">size=</span><span class="dv">5</span> , <span class="at">angle=</span><span class="dv">0</span>, <span class="at">fontface=</span><span class="st">"bold"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="check-block-1-2-3---no-difference-in-speed-and-accuracy" class="level3">
<h3 class="anchored" data-anchor-id="check-block-1-2-3---no-difference-in-speed-and-accuracy">Check Block 1, 2, 3 - No Difference in Speed and Accuracy</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>reactionTime_copy <span class="sc">|&gt;</span> <span class="fu">filter</span>(stimulus <span class="sc">!=</span> <span class="st">"Practice_dog_medium"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">block =</span> <span class="fu">case_when</span>(trial_index <span class="sc">&lt;</span> <span class="dv">13</span> <span class="sc">~</span> <span class="st">"1"</span>, </span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>                                              trial_index <span class="sc">&gt;</span><span class="dv">24</span> <span class="sc">~</span> <span class="st">"3"</span>, </span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>                                              <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"2"</span>), <span class="at">.before =</span> rt) <span class="sc">|&gt;</span> </span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">agent =</span> <span class="fu">case_when</span>(</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Theo"</span>) <span class="sc">~</span> <span class="st">"Robotic Arm"</span>, </span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Milo"</span>) <span class="sc">~</span> <span class="st">"Humanoid"</span>, </span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Human"</span>) <span class="sc">~</span> <span class="st">"Human"</span>, </span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">agent =</span> <span class="fu">fct_relevel</span>(agent, <span class="fu">c</span>(<span class="st">"Robotic Arm"</span>, <span class="st">"Humanoid"</span>, <span class="st">"Human"</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_rev</span>(stimulus), <span class="at">y =</span> predict_in_advance, <span class="at">fill =</span> block))<span class="sc">+</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> .<span class="dv">6</span>)<span class="sc">+</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position=</span><span class="fu">position_jitterdodge</span>(<span class="at">jitter.width =</span> .<span class="dv">05</span>), <span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add line to see where 0 is</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">vjust =</span> <span class="dv">1</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"E"</span>) <span class="sc">+</span> <span class="fu">scale_x_discrete</span>(<span class="at">name =</span> <span class="st">"Conditions"</span>, </span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>                   <span class="at">labels =</span> labels_reverse,</span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>                  <span class="at">expand =</span> <span class="fu">c</span>(<span class="fl">0.02</span>, <span class="dv">0</span>, .<span class="dv">08</span>, <span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Key press response time"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="fl">0.02</span>, <span class="dv">0</span>, .<span class="dv">08</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span> </span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a><span class="co">#  facet_wrap(~agent + block, scales = "free_y", drop = TRUE) +</span></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme_linedraw</span>() <span class="sc">+</span> </span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>, <span class="st">"cm"</span>), </span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>), <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">18</span>), </span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">12</span>), </span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position=</span><span class="st">"none"</span></span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Response times by block,</span><span class="sc">\n</span><span class="st">INCLUDE LATE AND WRONG RESPONSES"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="eye-tracking-data-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="eye-tracking-data-cleaning">Eye Tracking Data Cleaning</h2>
<section id="major-cleanup" class="level3">
<h3 class="anchored" data-anchor-id="major-cleanup">Major cleanup</h3>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co">#helpers</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>get_number <span class="ot">&lt;-</span> <span class="cf">function</span> (i) {</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gsub</span>(<span class="st">"[^.,[:digit:]]"</span>,<span class="st">""</span>, i)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>get_text <span class="ot">&lt;-</span> <span class="cf">function</span> (j) {</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gsub</span>(<span class="st">'</span><span class="sc">\\</span><span class="st">d'</span>, <span class="st">""</span>, j)</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a><span class="co"># list of participants who met the validation score threshold</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>participant_list <span class="ot">&lt;-</span> narrow_participant_list_eye_tracking<span class="sc">$</span>participant</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>eyetrack_df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> <span class="fu">select</span>(participant, trial_index, stimulus, webgazer_data, webgazer_targets) <span class="sc">|&gt;</span> </span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>trial_index <span class="sc">%in%</span> (<span class="dv">0</span><span class="sc">:</span><span class="dv">14</span>)) <span class="sc">|&gt;</span> <span class="co"># filter out on-screen instructions and calibration phase</span></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(stimulus <span class="sc">!=</span> <span class="st">"img/plus_thin.png"</span>) <span class="sc">|&gt;</span> <span class="co"># remove inter-trial fixation cross</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(stimulus <span class="sc">!=</span> <span class="st">'["videos/Practice_dog_medium.mp4"]'</span>) <span class="sc">|&gt;</span> <span class="co"># remove practice round</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">'&lt;p&gt;'</span>, stimulus)) <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">'&lt;h'</span>, stimulus)) <span class="sc">|&gt;</span> <span class="co"># remove on-screen instructions</span></span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stimulus =</span> <span class="fu">remove_brackets</span>(stimulus)) <span class="sc">|&gt;</span> <span class="co"># remove brackets</span></span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stimulus =</span> <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">..*"</span>, <span class="st">""</span>, stimulus)) <span class="sc">|&gt;</span> <span class="co">#remove file extension .mp4</span></span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stimulus =</span> <span class="fu">gsub</span>(<span class="st">".*/"</span>,<span class="st">""</span>, stimulus)) <span class="sc">|&gt;</span> <span class="co">#remove filepath videos/</span></span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># rename the human stimuli as file names too terse</span></span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stimulus =</span> <span class="fu">str_replace_all</span>(stimulus, <span class="at">pattern =</span> <span class="st">"HBC"</span>, <span class="at">replacement =</span> <span class="st">"HumanBioCorrect"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stimulus =</span> <span class="fu">str_replace_all</span>(stimulus, <span class="at">pattern =</span> <span class="st">"HBS"</span>, <span class="at">replacement =</span> <span class="st">"HumanBioSpill"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stimulus =</span> <span class="fu">str_replace_all</span>(stimulus, <span class="at">pattern =</span> <span class="st">"HNBC"</span>, <span class="at">replacement =</span> <span class="st">"HumanNonbioCorrect"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stimulus =</span> <span class="fu">str_replace_all</span>(stimulus, <span class="at">pattern =</span> <span class="st">"HNBS"</span>, <span class="at">replacement =</span> <span class="st">"HumanNonbioSpill"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(stimulus, <span class="st">'Correct'</span>)) <span class="sc">|&gt;</span>  <span class="co"># remove all Spill conditions</span></span>
<span id="cb34-27"><a href="#cb34-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># set trial_index to rank, everyone should have 18 trials (Correct conditions only, no Spill)</span></span>
<span id="cb34-28"><a href="#cb34-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(participant) <span class="sc">|&gt;</span> </span>
<span id="cb34-29"><a href="#cb34-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">trial_index =</span> <span class="fu">dense_rank</span>(<span class="fu">desc</span>(trial_index))) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb34-30"><a href="#cb34-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(participant <span class="sc">%in%</span> participant_list) <span class="sc">|&gt;</span></span>
<span id="cb34-31"><a href="#cb34-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Below lines process video positions</span></span>
<span id="cb34-32"><a href="#cb34-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># `webgazer-targets` contains data on where the stimuli were positioned on-screen </span></span>
<span id="cb34-33"><a href="#cb34-33" aria-hidden="true" tabindex="-1"></a>  <span class="co"># (i.e., top, left, right, bottom borders around where the stimulus is shown)</span></span>
<span id="cb34-34"><a href="#cb34-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">webgazer_targets =</span> <span class="fu">gsub</span>(<span class="st">'[^.,[:alnum:]]+'</span>,<span class="st">''</span>, webgazer_targets)) <span class="sc">|&gt;</span> </span>
<span id="cb34-35"><a href="#cb34-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">webgazer_targets =</span> <span class="fu">gsub</span>(<span class="st">'jspsychvideokeyboardresponsestimulus'</span>, <span class="st">''</span>, webgazer_targets)) <span class="sc">|&gt;</span> </span>
<span id="cb34-36"><a href="#cb34-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">webgazer_targets =</span> <span class="fu">str_split</span>(webgazer_targets, <span class="st">","</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb34-37"><a href="#cb34-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_wider</span>(webgazer_targets, <span class="at">names_sep =</span> <span class="st">","</span>) <span class="sc">|&gt;</span> </span>
<span id="cb34-38"><a href="#cb34-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># remove columns `webgazer_targets, 3` and `4`; contains dimensions of stimuli</span></span>
<span id="cb34-39"><a href="#cb34-39" aria-hidden="true" tabindex="-1"></a>  <span class="co"># dimensions were fixed in the experiment as 1080 x 607.5</span></span>
<span id="cb34-40"><a href="#cb34-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">`</span><span class="at">webgazer_targets,3</span><span class="st">`</span>, <span class="st">`</span><span class="at">webgazer_targets,4</span><span class="st">`</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb34-41"><a href="#cb34-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">webgazer_targets,1</span><span class="st">`</span>, </span>
<span id="cb34-42"><a href="#cb34-42" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">`</span><span class="at">webgazer_targets,2</span><span class="st">`</span>, </span>
<span id="cb34-43"><a href="#cb34-43" aria-hidden="true" tabindex="-1"></a>         <span class="at">top =</span> <span class="st">`</span><span class="at">webgazer_targets,5</span><span class="st">`</span>, </span>
<span id="cb34-44"><a href="#cb34-44" aria-hidden="true" tabindex="-1"></a>         <span class="at">right =</span> <span class="st">`</span><span class="at">webgazer_targets,6</span><span class="st">`</span>, </span>
<span id="cb34-45"><a href="#cb34-45" aria-hidden="true" tabindex="-1"></a>         <span class="at">bottom =</span> <span class="st">`</span><span class="at">webgazer_targets,7</span><span class="st">`</span>, </span>
<span id="cb34-46"><a href="#cb34-46" aria-hidden="true" tabindex="-1"></a>         <span class="at">left =</span> <span class="st">`</span><span class="at">webgazer_targets,8</span><span class="st">`</span>) <span class="sc">|&gt;</span> </span>
<span id="cb34-47"><a href="#cb34-47" aria-hidden="true" tabindex="-1"></a>  <span class="co"># data are stored string, so run get_number function above, convert to numeric</span></span>
<span id="cb34-48"><a href="#cb34-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>, <span class="st">"top"</span>, <span class="st">"right"</span>, <span class="st">"bottom"</span>, <span class="st">"left"</span>), get_number) <span class="sc">|&gt;</span> </span>
<span id="cb34-49"><a href="#cb34-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>, <span class="st">"top"</span>, <span class="st">"right"</span>, <span class="st">"bottom"</span>, <span class="st">"left"</span>), as.numeric) <span class="sc">|&gt;</span> </span>
<span id="cb34-50"><a href="#cb34-50" aria-hidden="true" tabindex="-1"></a>  <span class="co"># remove participant V039 due to no Webgazer data saved</span></span>
<span id="cb34-51"><a href="#cb34-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(participant<span class="sc">!=</span> <span class="st">"V039"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb34-52"><a href="#cb34-52" aria-hidden="true" tabindex="-1"></a>  <span class="co"># regex on webgazer_data</span></span>
<span id="cb34-53"><a href="#cb34-53" aria-hidden="true" tabindex="-1"></a>  <span class="co"># webgaer_data is the gaze data</span></span>
<span id="cb34-54"><a href="#cb34-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">webgazer_data =</span> <span class="fu">gsub</span>(<span class="st">'[^.,[:alnum:]]+'</span>,<span class="st">''</span>, webgazer_data)) <span class="sc">|&gt;</span> </span>
<span id="cb34-55"><a href="#cb34-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">webgazer_data =</span> <span class="fu">gsub</span>(<span class="st">'"'</span>, <span class="st">''</span>, webgazer_data)) <span class="sc">|&gt;</span> </span>
<span id="cb34-56"><a href="#cb34-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">webgazer_data =</span> <span class="fu">str_split</span>(webgazer_data, <span class="st">","</span>))</span>
<span id="cb34-57"><a href="#cb34-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-58"><a href="#cb34-58" aria-hidden="true" tabindex="-1"></a><span class="co"># video positions are available in the data, under webgazer_targets</span></span>
<span id="cb34-59"><a href="#cb34-59" aria-hidden="true" tabindex="-1"></a><span class="co"># save the video positions in a separate tibble</span></span>
<span id="cb34-60"><a href="#cb34-60" aria-hidden="true" tabindex="-1"></a>video_positions <span class="ot">&lt;-</span> eyetrack_df <span class="sc">|&gt;</span> <span class="fu">select</span>(participant, stimulus, x, y, top, right, bottom, left) <span class="sc">|&gt;</span></span>
<span id="cb34-61"><a href="#cb34-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>stimulus) <span class="sc">|&gt;</span> <span class="fu">distinct</span>() <span class="sc">|&gt;</span> </span>
<span id="cb34-62"><a href="#cb34-62" aria-hidden="true" tabindex="-1"></a>  <span class="co"># we only need top and left positions</span></span>
<span id="cb34-63"><a href="#cb34-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, top, left)</span>
<span id="cb34-64"><a href="#cb34-64" aria-hidden="true" tabindex="-1"></a><span class="co"># 35 people remaining! </span></span>
<span id="cb34-65"><a href="#cb34-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-66"><a href="#cb34-66" aria-hidden="true" tabindex="-1"></a>gaze_coordinates <span class="ot">&lt;-</span> eyetrack_df <span class="sc">|&gt;</span> </span>
<span id="cb34-67"><a href="#cb34-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, trial_index, stimulus, webgazer_data) <span class="sc">|&gt;</span> </span>
<span id="cb34-68"><a href="#cb34-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(webgazer_data, <span class="at">names_sep =</span> <span class="st">","</span>) <span class="sc">|&gt;</span> </span>
<span id="cb34-69"><a href="#cb34-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">letter =</span> <span class="fu">get_text</span>(webgazer_data), </span>
<span id="cb34-70"><a href="#cb34-70" aria-hidden="true" tabindex="-1"></a>         <span class="at">digit =</span> <span class="fu">get_number</span>(webgazer_data)) <span class="sc">|&gt;</span> </span>
<span id="cb34-71"><a href="#cb34-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">digit =</span> <span class="fu">as.numeric</span>(digit)) <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>webgazer_data) <span class="sc">|&gt;</span> </span>
<span id="cb34-72"><a href="#cb34-72" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add row numbers for id_cols in pivot_wider. Based on nrow(gaze_coordinates) / 3</span></span>
<span id="cb34-73"><a href="#cb34-73" aria-hidden="true" tabindex="-1"></a>  <span class="co"># generate list of numbers, each repeats 3 times, i.e., c(1, 1, 1, ... 135250, 135250, 135250)</span></span>
<span id="cb34-74"><a href="#cb34-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">row =</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">135250</span>, <span class="at">each=</span><span class="dv">3</span>))</span>
<span id="cb34-75"><a href="#cb34-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-76"><a href="#cb34-76" aria-hidden="true" tabindex="-1"></a><span class="co"># gaze_coordinates is split into 2 tibbles. First, pivot_wider the letter and digit</span></span>
<span id="cb34-77"><a href="#cb34-77" aria-hidden="true" tabindex="-1"></a>gaze_coordinates_pivot <span class="ot">&lt;-</span> gaze_coordinates <span class="sc">|&gt;</span> <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> letter, <span class="at">values_from =</span> digit, <span class="at">id_cols =</span> row)</span>
<span id="cb34-78"><a href="#cb34-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-79"><a href="#cb34-79" aria-hidden="true" tabindex="-1"></a><span class="co"># then, another tibble keep only distinct rows for cols c(participant, trial_index, stimulus)</span></span>
<span id="cb34-80"><a href="#cb34-80" aria-hidden="true" tabindex="-1"></a>remove_coordinates_columns <span class="ot">&lt;-</span> gaze_coordinates <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(letter, digit)) <span class="sc">|&gt;</span> <span class="fu">distinct</span>()</span>
<span id="cb34-81"><a href="#cb34-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-82"><a href="#cb34-82" aria-hidden="true" tabindex="-1"></a><span class="co"># join the 2 tibbles back together by row number, remove row number column</span></span>
<span id="cb34-83"><a href="#cb34-83" aria-hidden="true" tabindex="-1"></a>coordinates <span class="ot">&lt;-</span> <span class="fu">full_join</span>(remove_coordinates_columns, gaze_coordinates_pivot, <span class="at">by =</span> <span class="st">"row"</span>) <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>row)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="adjust-for-video-positions" class="level3">
<h3 class="anchored" data-anchor-id="adjust-for-video-positions">Adjust for video positions</h3>
<p>AOI boundaries are based on the stimuli’s dimensions (1080 x 607.5). Before AOI analysis, participants’ gaze position on-screen (x, y) is adjusted by: ( (x - left boundary), (y - top boundary) )</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># join the coordinates data and the video positions data into </span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>coordinates_adjusted <span class="ot">&lt;-</span> <span class="fu">left_join</span>(coordinates, video_positions, <span class="at">by =</span> <span class="st">"participant"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">x.adjusted =</span> x <span class="sc">-</span> left, <span class="at">.before =</span> x) <span class="sc">|&gt;</span> </span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">y.adjusted =</span> y <span class="sc">-</span> top, <span class="at">.before =</span> y) <span class="sc">|&gt;</span> </span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span> <span class="fu">c</span>(x, y, top, left)) <span class="sc">|&gt;</span> </span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># a few negative values which means that participant gaze was outside of the stimuli (elsewhere on screen). Those negative values are all &gt; -50 which is in theory on the edge of the stimuli. Converting negative values to 0. </span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(x.adjusted, y.adjusted), <span class="sc">~</span> <span class="fu">ifelse</span>(.x <span class="sc">&lt;</span> <span class="dv">0</span>, <span class="fl">0.5</span>, .x))) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>When participants are looking OUTSIDE the stimuli, to the bottom or right blank borders on screen, I convert their gaze positions. This is done so that the trackloss check will still count these measurements. The assigned positions are just outside the video stimuli presentation coordinates (1080 x 607.5).</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>coordinates_adjusted <span class="ot">&lt;-</span> coordinates_adjusted <span class="sc">|&gt;</span> </span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">x.adjusted =</span> <span class="fu">case_when</span>((x.adjusted <span class="sc">&gt;</span> <span class="dv">1081</span>) <span class="sc">~</span> <span class="fl">1080.5</span>, </span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>                                x.adjusted <span class="sc">&lt;=</span> <span class="dv">1081</span> <span class="sc">~</span> x.adjusted)) <span class="sc">|&gt;</span> </span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">y.adjusted =</span> <span class="fu">case_when</span>((y.adjusted <span class="sc">&gt;</span> <span class="dv">609</span>) <span class="sc">~</span> <span class="dv">608</span>, </span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>                                y.adjusted <span class="sc">&lt;=</span> <span class="dv">609</span> <span class="sc">~</span> y.adjusted))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="eyetrack_data-created-here" class="level3">
<h3 class="anchored" data-anchor-id="eyetrack_data-created-here">EYETRACK_DATA created here</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>goal_aoi <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"AOI_definitions.csv"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Goal, <span class="at">values_from =</span> Pixel, <span class="at">id_cols =</span> Condition) <span class="sc">|&gt;</span> </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">stimulus =</span> Condition) <span class="co"># AOI settings must have idential column name with the eyetracking data column name for experimental conditions</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="co"># EyetrackingR::add_aoi Goal AOI</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>eyetrack_data <span class="ot">&lt;-</span> <span class="fu">add_aoi</span>(coordinates_adjusted, goal_aoi, </span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">x_col =</span> <span class="st">"x.adjusted"</span>, <span class="at">y_col =</span> <span class="st">"y.adjusted"</span>,</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">aoi_name =</span> <span class="st">"Goal_AOI"</span>, </span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">x_min_col =</span> <span class="st">"Left"</span>, </span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">x_max_col =</span> <span class="st">"Right"</span>,</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">y_min_col =</span> <span class="st">"Top"</span>,</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">y_max_col =</span> <span class="st">"Bottom"</span>)</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>trajectory_aoi <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Trajectory_AOI.csv"</span>) <span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="at">stimulus =</span> Condition)</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a><span class="co"># add Trajectory AOI</span></span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a><span class="co"># careful to use the right dataframes and not overwrite the data</span></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>eyetrack_data <span class="ot">&lt;-</span> <span class="fu">add_aoi</span>(eyetrack_data, trajectory_aoi, </span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">x_col =</span> <span class="st">"x.adjusted"</span>, <span class="at">y_col =</span> <span class="st">"y.adjusted"</span>,</span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">aoi_name =</span> <span class="st">"Trajectory_AOI"</span>, </span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">x_min_col =</span> <span class="st">"Left"</span>, </span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">x_max_col =</span> <span class="st">"Right"</span>,</span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">y_min_col =</span> <span class="st">"Top"</span>,</span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">y_max_col =</span> <span class="st">"Bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="trackloss---manual-check" class="level4">
<h4 class="anchored" data-anchor-id="trackloss---manual-check">Trackloss - Manual check</h4>
<p>Manually checking trackloss as EyetrackingR does not handle this. Stimuli were presented as 7999 milliseconds in length.</p>
<p><strong>Trackloss at participant level</strong></p>
<p>Below table shows participants whose number of measurements is &lt; 4000 measurements. <code>4000 / 144 = average sampling rate of 27.777</code></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># EyetrackingR requires trackloss column. It appears I have to check this myself. </span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>number_of_measurements_by_participant <span class="ot">&lt;-</span> eyetrack_data <span class="sc">|&gt;</span> <span class="fu">group_by</span>(participant) <span class="sc">|&gt;</span> <span class="fu">count</span>()</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co"># table shown in ascending order for number of measurements</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>(<span class="fu">head</span>(number_of_measurements_by_participant, <span class="at">n=</span><span class="dv">15</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["participant"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"V001","2":"4222"},{"1":"V002","2":"4201"},{"1":"V003","2":"4230"},{"1":"V004","2":"3005"},{"1":"V005","2":"3209"},{"1":"V006","2":"4230"},{"1":"V007","2":"4230"},{"1":"V008","2":"2944"},{"1":"V013","2":"3237"},{"1":"V014","2":"4230"},{"1":"V015","2":"4230"},{"1":"V016","2":"4230"},{"1":"V017","2":"4127"},{"1":"V018","2":"4230"},{"1":"V021","2":"3252"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p><strong>Trackloss at stimuli level</strong> (Each stimulus is shown 3 times during the experiment. 8 seconds x 3 = 24 seconds.) Examining per stimuli for those with &lt; 4000 measurements:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># subsetting data for the relatively higher trackloss participants</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>possible_high_trackloss_participants <span class="ot">&lt;-</span> eyetrack_data <span class="sc">|&gt;</span> <span class="fu">group_by</span>(participant) <span class="sc">|&gt;</span> <span class="fu">count</span>() <span class="sc">|&gt;</span> <span class="fu">filter</span>(n <span class="sc">&lt;</span> <span class="dv">4000</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co"># counting by stimulus </span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>examine_trackloss <span class="ot">&lt;-</span> eyetrack_data <span class="sc">|&gt;</span> <span class="fu">group_by</span>(participant, stimulus) <span class="sc">|&gt;</span> <span class="fu">count</span>() <span class="sc">|&gt;</span> <span class="fu">arrange</span>(n)</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="co"># turns out lowest count, participant "V008", still has 476 measurements for a stimulus</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 476 measurements / 24 seconds = 19.8 measurements per second</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>(<span class="fu">head</span>(examine_trackloss, <span class="at">n =</span> <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["participant"],"name":[1],"type":["chr"],"align":["left"]},{"label":["stimulus"],"name":[2],"type":["chr"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"V008","2":"MiloNonbioCorrect","3":"476"},{"1":"V008","2":"MiloBioCorrect","3":"483"},{"1":"V008","2":"HumanNonbioCorrect","3":"492"},{"1":"V008","2":"TheoNonbioCorrect","3":"492"},{"1":"V004","2":"HumanBioCorrect","3":"493"},{"1":"V004","2":"HumanNonbioCorrect","3":"495"},{"1":"V008","2":"HumanBioCorrect","3":"498"},{"1":"V004","2":"MiloBioCorrect","3":"499"},{"1":"V004","2":"TheoBioCorrect","3":"500"},{"1":"V008","2":"TheoBioCorrect","3":"503"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p><strong>Trackloss at trial level</strong></p>
<p>The lowest sampling rates occurred for participant V008 (shown in table: 155 measurements taken for 8 seconds of a single stimulus = 19.3 measurements/second). At least we didn’t have anyone who walked away from the camera etc. during the eye-tracking!</p>
<p><strong>Table below: Trials with lowest sampling rates</strong></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>examine_trackloss_by_trial <span class="ot">&lt;-</span> eyetrack_data <span class="sc">|&gt;</span> <span class="fu">filter</span>(participant <span class="sc">%in%</span> possible_high_trackloss_participants<span class="sc">$</span>participant) <span class="sc">|&gt;</span> <span class="fu">group_by</span>(participant, stimulus, trial_index) <span class="sc">|&gt;</span> <span class="fu">count</span>() <span class="sc">|&gt;</span> <span class="fu">arrange</span>(n)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>                                                                          </span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>(<span class="fu">head</span>(examine_trackloss_by_trial, <span class="at">n =</span> <span class="dv">15</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["participant"],"name":[1],"type":["chr"],"align":["left"]},{"label":["stimulus"],"name":[2],"type":["chr"],"align":["left"]},{"label":["trial_index"],"name":[3],"type":["int"],"align":["right"]},{"label":["n"],"name":[4],"type":["int"],"align":["right"]}],"data":[{"1":"V008","2":"MiloNonbioCorrect","3":"11","4":"155"},{"1":"V008","2":"MiloBioCorrect","3":"4","4":"156"},{"1":"V004","2":"TheoBioCorrect","3":"7","4":"157"},{"1":"V004","2":"HumanNonbioCorrect","3":"9","4":"158"},{"1":"V008","2":"MiloNonbioCorrect","3":"5","4":"158"},{"1":"V004","2":"MiloBioCorrect","3":"10","4":"159"},{"1":"V023","2":"TheoBioCorrect","3":"10","4":"159"},{"1":"V004","2":"HumanBioCorrect","3":"12","4":"160"},{"1":"V008","2":"TheoNonbioCorrect","3":"12","4":"160"},{"1":"V008","2":"MiloBioCorrect","3":"10","4":"161"},{"1":"V004","2":"TheoNonbioCorrect","3":"8","4":"162"},{"1":"V008","2":"HumanNonbioCorrect","3":"16","4":"162"},{"1":"V008","2":"HumanNonbioCorrect","3":"9","4":"163"},{"1":"V008","2":"MiloNonbioCorrect","3":"15","4":"163"},{"1":"V004","2":"HumanBioCorrect","3":"18","4":"164"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="add-column-for-action-arrival" class="level4">
<h4 class="anchored" data-anchor-id="add-column-for-action-arrival">Add column for action arrival</h4>
<p>Column <code>arrival</code> refers to the frame just before the movement arrives at the Goal_AOI</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Moment when movement enters AOI is stored in arrival.csv</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>arrival <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"arrival.csv"</span>) </span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(mutate(arrival = as.numeric(arrival)) )</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   </span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>examine_predictive_gaze <span class="ot">&lt;-</span> eyetrack_data <span class="sc">|&gt;</span> <span class="fu">group_by</span>(participant, stimulus, trial_index) <span class="sc">|&gt;</span> </span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(arrival, <span class="at">by =</span> <span class="st">"stimulus"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">predictive =</span> (arrival <span class="sc">-</span> t))</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a><span class="co"># typeof(eyetrack_data$arrival)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Just exploring: Pick any 1 participant and plotting the data</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>examine_predictive_gaze <span class="sc">|&gt;</span> </span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#just pick a random participant's data, plot to see</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(participant <span class="sc">==</span> <span class="st">"V049"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(x.adjusted, y.adjusted)) <span class="sc">+</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size=</span><span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>() <span class="sc">+</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1080</span>)) <span class="sc">+</span> </span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="fl">607.5</span>)) <span class="sc">+</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>stimulus <span class="sc">+</span> trial_index, <span class="at">nrow =</span> <span class="dv">3</span>)</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a><span class="co"># trial_index is retained to see differences between round 1, round 2, round 3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><strong>Trying out EyetrackingR</strong> by creating a 0% trackloss column (all FALSE) and keeping the time window as-is</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>examine_predictive_gaze <span class="ot">&lt;-</span> examine_predictive_gaze <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">trackloss =</span> <span class="cn">FALSE</span>)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>eyetrackingR_data <span class="ot">&lt;-</span> <span class="fu">make_eyetrackingr_data</span>(examine_predictive_gaze, </span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">participant_column =</span> <span class="st">"participant"</span>,</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">trial_column =</span> <span class="st">"trial_index"</span>,</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>                       <span class="at">time_column =</span> <span class="st">"t"</span>,</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>                       <span class="at">trackloss_column =</span> <span class="st">"trackloss"</span>,</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>                       <span class="at">aoi_columns =</span> <span class="fu">c</span>(<span class="st">'Goal_AOI'</span>, <span class="st">'Trajectory_AOI'</span>),</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>                       <span class="at">treat_non_aoi_looks_as_missing =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Calculating mean at the stimulus level</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>eyetrack_calculate_mean <span class="ot">&lt;-</span> eyetrack_data_predictive_proportion_ceiling <span class="sc">|&gt;</span> <span class="fu">group_by</span>(participant, stimulus) <span class="sc">|&gt;</span> </span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mean_proportion =</span> <span class="fu">mean</span>(proportion))</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>(<span class="fu">head</span>(eyetrack_calculate_mean, <span class="at">n =</span> <span class="dv">20</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="deprecated-exploring-1000-ms-and-500-ms-before-pour_moment" class="level3">
<h3 class="anchored" data-anchor-id="deprecated-exploring-1000-ms-and-500-ms-before-pour_moment">DEPRECATED Exploring 1000 ms and 500 ms before pour_moment</h3>
<div class="cell">

</div>
<div class="cell">

</div>
<div class="cell">

</div>
<div class="cell">

</div>
</section>
</section>
<section id="time-bins-of-50" class="level2">
<h2 class="anchored" data-anchor-id="time-bins-of-50">Time Bins of 50</h2>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create vector where the bins of 50ms each </span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="co"># total length of videos were 7999ms</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">8000</span>, <span class="at">by =</span> <span class="dv">50</span>)</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>v_intervals <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(<span class="fu">cbind</span>(v, <span class="fu">findInterval</span>(v, v)))</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="co"># using findInterval in baseR to match the timestamp from the raw data to the interval in v</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a><span class="co"># timestamps between 1 and 50 will become 1 in `interval`, etc.</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>equal_bins <span class="ot">&lt;-</span> eyetrack_data <span class="sc">|&gt;</span> </span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">interval =</span> <span class="fu">findInterval</span>(t, v), <span class="at">.after =</span> t) <span class="sc">|&gt;</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(participant, stimulus, trial_index, interval) <span class="sc">|&gt;</span></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># mean of x, y coordinates within same tin bin</span></span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">x.binned =</span> <span class="fu">mean</span>(x.adjusted, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.before =</span> t) <span class="sc">|&gt;</span> </span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">y.binned =</span> <span class="fu">mean</span>(y.adjusted, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.before =</span> t) <span class="sc">|&gt;</span> </span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># remove the raw data columns</span></span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(x.adjusted, y.adjusted, t))<span class="sc">|&gt;</span> </span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># get unique row</span></span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">|&gt;</span> </span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># map the interval 1, 2, 3... back into milliseconds 1, 51, 101... </span></span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(v_intervals, <span class="fu">join_by</span>(<span class="st">"interval"</span> <span class="sc">==</span> <span class="st">"V2"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">time =</span> v) <span class="sc">|&gt;</span> </span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(frame_before_outcome, <span class="at">by =</span> <span class="st">"stimulus"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># round the pouring moment down to the nearest bin of 50</span></span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pour_bin =</span> plyr<span class="sc">::</span><span class="fu">round_any</span>(pour_moment,<span class="dv">50</span>,floor) <span class="sc">+</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb45-25"><a href="#cb45-25" aria-hidden="true" tabindex="-1"></a>  <span class="co">#convert trial_index into block 1, block 2, block 3</span></span>
<span id="cb45-26"><a href="#cb45-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">block =</span> <span class="fu">case_when</span>(trial_index <span class="sc">&lt;</span> <span class="dv">7</span> <span class="sc">~</span> <span class="st">"1"</span>, </span>
<span id="cb45-27"><a href="#cb45-27" aria-hidden="true" tabindex="-1"></a>                                              trial_index <span class="sc">&gt;</span> <span class="dv">12</span> <span class="sc">~</span> <span class="st">"3"</span>, </span>
<span id="cb45-28"><a href="#cb45-28" aria-hidden="true" tabindex="-1"></a>                                              <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"2"</span>), <span class="at">.before =</span> stimulus) </span>
<span id="cb45-29"><a href="#cb45-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-30"><a href="#cb45-30" aria-hidden="true" tabindex="-1"></a>equal_bins_play <span class="ot">&lt;-</span> equal_bins <span class="sc">|&gt;</span> <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(interval, pour_moment, pour_bin, block, Goal_AOI, Trajectory_AOI)) <span class="sc">|&gt;</span> </span>
<span id="cb45-31"><a href="#cb45-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">trackloss =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span> <span class="fu">distinct</span>() <span class="sc">|&gt;</span> </span>
<span id="cb45-32"><a href="#cb45-32" aria-hidden="true" tabindex="-1"></a><span class="co"># mutate time to equalise human videos being 100-150ms behind on pouring time</span></span>
<span id="cb45-33"><a href="#cb45-33" aria-hidden="true" tabindex="-1"></a><span class="co"># humanbiocorrect is -150ms</span></span>
<span id="cb45-34"><a href="#cb45-34" aria-hidden="true" tabindex="-1"></a><span class="co"># humannonbiocorrect is -100ms</span></span>
<span id="cb45-35"><a href="#cb45-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">time.adj =</span> <span class="fu">case_when</span>(stimulus <span class="sc">==</span> <span class="st">"HumanBioCorrect"</span> <span class="sc">~</span> (time <span class="sc">-</span> <span class="dv">150</span>),</span>
<span id="cb45-36"><a href="#cb45-36" aria-hidden="true" tabindex="-1"></a>                          stimulus <span class="sc">==</span> <span class="st">"HumanNonbioCorrect"</span> <span class="sc">~</span> (time <span class="sc">-</span> <span class="dv">100</span>), </span>
<span id="cb45-37"><a href="#cb45-37" aria-hidden="true" tabindex="-1"></a>                          <span class="cn">TRUE</span> <span class="sc">~</span> time)) <span class="sc">|&gt;</span> </span>
<span id="cb45-38"><a href="#cb45-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">agent =</span> <span class="fu">case_when</span>(</span>
<span id="cb45-39"><a href="#cb45-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Human"</span>) <span class="sc">~</span> <span class="st">"Human"</span>, </span>
<span id="cb45-40"><a href="#cb45-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Milo"</span>) <span class="sc">~</span> <span class="st">"Humanoid"</span>, </span>
<span id="cb45-41"><a href="#cb45-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Theo"</span>) <span class="sc">~</span> <span class="st">"Robotic Arm"</span>, </span>
<span id="cb45-42"><a href="#cb45-42" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb45-43"><a href="#cb45-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">motion_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb45-44"><a href="#cb45-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Bio"</span>) <span class="sc">~</span> <span class="st">"Biological"</span>,</span>
<span id="cb45-45"><a href="#cb45-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(stimulus, <span class="st">"Nonbio"</span>) <span class="sc">~</span> <span class="st">"Nonbiological"</span>, </span>
<span id="cb45-46"><a href="#cb45-46" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>time)</span>
<span id="cb45-47"><a href="#cb45-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-48"><a href="#cb45-48" aria-hidden="true" tabindex="-1"></a><span class="co"># add AOI again</span></span>
<span id="cb45-49"><a href="#cb45-49" aria-hidden="true" tabindex="-1"></a><span class="co"># goal_aoi &lt;- read_csv("AOI_definitions.csv") |&gt; </span></span>
<span id="cb45-50"><a href="#cb45-50" aria-hidden="true" tabindex="-1"></a><span class="co">#   pivot_wider(names_from = Goal, values_from = Pixel, id_cols = Condition) |&gt; </span></span>
<span id="cb45-51"><a href="#cb45-51" aria-hidden="true" tabindex="-1"></a><span class="co">#   rename(stimulus = Condition) </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="time-window" class="level2">
<h2 class="anchored" data-anchor-id="time-window">Time Window</h2>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># EyetrackingR::add_aoi Goal AOI</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>eyetrack_equal <span class="ot">&lt;-</span> <span class="fu">add_aoi</span>(equal_bins_play, goal_aoi, </span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">x_col =</span> <span class="st">"x.binned"</span>, <span class="at">y_col =</span> <span class="st">"y.binned"</span>,</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">aoi_name =</span> <span class="st">"Goal_AOI"</span>, </span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">x_min_col =</span> <span class="st">"Left"</span>, </span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">x_max_col =</span> <span class="st">"Right"</span>,</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">y_min_col =</span> <span class="st">"Top"</span>,</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">y_max_col =</span> <span class="st">"Bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(stimulus)`
Making Goal_AOI AOI...</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># trajectory_aoi &lt;- read_csv("Trajectory_AOI.csv") |&gt; rename(stimulus = Condition)</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="co"># add Trajectory AOI</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>eyetrack_equal <span class="ot">&lt;-</span> <span class="fu">add_aoi</span>(eyetrack_equal, trajectory_aoi, </span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">x_col =</span> <span class="st">"x.binned"</span>, <span class="at">y_col =</span> <span class="st">"y.binned"</span>,</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">aoi_name =</span> <span class="st">"Trajectory_AOI"</span>, </span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">x_min_col =</span> <span class="st">"Left"</span>, </span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">x_max_col =</span> <span class="st">"Right"</span>,</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">y_min_col =</span> <span class="st">"Top"</span>,</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">y_max_col =</span> <span class="st">"Bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(stimulus)`
Making Trajectory_AOI AOI...</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># run eyetrackingR again</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>eye_equal <span class="ot">&lt;-</span> <span class="fu">make_eyetrackingr_data</span>(eyetrack_equal, </span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">participant_column =</span> <span class="st">"participant"</span>,</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">trial_column =</span> <span class="st">"trial_index"</span>,</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">time_column =</span> <span class="st">"time.adj"</span>,</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>                       <span class="at">trackloss_column =</span> <span class="st">"trackloss"</span>,</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>                       <span class="at">aoi_columns =</span> <span class="fu">c</span>(<span class="st">'Goal_AOI'</span>, <span class="st">'Trajectory_AOI'</span>),</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>                       <span class="at">treat_non_aoi_looks_as_missing =</span> <span class="cn">FALSE</span>, </span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>                       <span class="at">item_columns =</span> <span class="fu">c</span>(<span class="st">"agent"</span>, <span class="st">"motion_type"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Converting Participants to proper type.
Converting Trial to proper type.
Converting Item to proper type.
Converting Item to proper type.</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>response_window <span class="ot">&lt;-</span> <span class="fu">subset_by_window</span>(eye_equal, </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">window_start_time =</span> <span class="dv">3400</span>, </span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">window_end_time =</span> <span class="dv">4400</span>, </span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">rezero =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Avg. window length in new data will be 1000</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>time_sequence_data <span class="ot">&lt;-</span> <span class="fu">make_time_sequence_data</span>(response_window, <span class="at">time_bin_size =</span> <span class="dv">50</span>, <span class="at">predictor_columns =</span> <span class="fu">c</span>(<span class="st">"motion_type"</span>, <span class="st">"agent"</span>, <span class="st">"trial_index"</span>), <span class="at">aois =</span> <span class="fu">c</span>(<span class="st">"Goal_AOI"</span>, <span class="st">"Trajectory_AOI"</span>), <span class="at">summarize_by =</span> <span class="st">"participant"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Analyzing Goal_AOI...
Analyzing Trajectory_AOI...</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>time_window_data <span class="ot">&lt;-</span> <span class="fu">make_time_window_data</span>(response_window, <span class="at">predictor_columns =</span> <span class="fu">c</span>(<span class="st">"motion_type"</span>, <span class="st">"agent"</span>, <span class="st">"trial_index"</span>), <span class="at">aois =</span> <span class="fu">c</span>(<span class="st">"Goal_AOI"</span>, <span class="st">"Trajectory_AOI"</span>), <span class="at">summarize_by =</span> <span class="st">"participant"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Analyzing Goal_AOI...
Analyzing Trajectory_AOI...</code></pre>
</div>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Robotic Arm Time Sequence </span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>time_sequence_data <span class="sc">|&gt;</span> <span class="fu">group_by</span>(participant) <span class="sc">|&gt;</span> <span class="fu">filter</span>(motion_type <span class="sc">==</span> <span class="st">"Biological"</span>) <span class="sc">|&gt;</span> <span class="fu">filter</span>(agent <span class="sc">==</span> <span class="st">"Robotic Arm"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>() <span class="sc">+</span> <span class="fu">theme_linedraw</span>() <span class="sc">+</span> <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.5</span>)) <span class="sc">+</span> </span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">"1 second before action reaches goal"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Dwell Time in Each AOI</span><span class="sc">\n</span><span class="st">(Proportion of Total)"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="sc">-</span>.<span class="dv">02</span>,<span class="fl">0.02</span>)) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">"Robotic Arm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Preprocessing_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Humanoid visual time sequence</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Humanoid Arm Time Sequence </span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>time_sequence_data <span class="sc">|&gt;</span> <span class="fu">group_by</span>(participant) <span class="sc">|&gt;</span> <span class="fu">filter</span>(motion_type <span class="sc">==</span> <span class="st">"Biological"</span>) <span class="sc">|&gt;</span> <span class="fu">filter</span>(agent <span class="sc">==</span> <span class="st">"Humanoid"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>() <span class="sc">+</span> <span class="fu">theme_linedraw</span>() <span class="sc">+</span> <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.5</span>)) <span class="sc">+</span> </span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">"1 second before action reaches goal"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Dwell Time in Each AOI</span><span class="sc">\n</span><span class="st">(Proportion of Total)"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="sc">-</span>.<span class="dv">02</span>,<span class="fl">0.02</span>)) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">"Humanoid"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Preprocessing_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Human Visual Time Sequence</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Human Time Sequence </span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>time_sequence_data <span class="sc">|&gt;</span> <span class="fu">group_by</span>(participant) <span class="sc">|&gt;</span> <span class="fu">filter</span>(motion_type <span class="sc">==</span> <span class="st">"Biological"</span>) <span class="sc">|&gt;</span> <span class="fu">filter</span>(agent <span class="sc">==</span> <span class="st">"Human"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>() <span class="sc">+</span> <span class="fu">theme_linedraw</span>() <span class="sc">+</span> <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.5</span>)) <span class="sc">+</span> </span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">"1 second before action reaches goal"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Dwell Time in Each AOI</span><span class="sc">\n</span><span class="st">(Proportion of Total)"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="sc">-</span>.<span class="dv">02</span>,<span class="fl">0.02</span>)) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">"Human"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Preprocessing_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="aggregate-calculate-predictive-gaze" class="level2">
<h2 class="anchored" data-anchor-id="aggregate-calculate-predictive-gaze">Aggregate: Calculate predictive gaze</h2>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>time_window_aggregate <span class="ot">&lt;-</span> time_window_data <span class="sc">|&gt;</span> </span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(participant, agent, motion_type, trial_index, SamplesInAOI, AOI)) <span class="sc">|&gt;</span> </span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(participant, agent, motion_type, trial_index, AOI, SamplesInAOI) <span class="sc">|&gt;</span> </span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>() <span class="sc">|&gt;</span> </span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">"AOI"</span>, <span class="at">values_from =</span> <span class="st">"SamplesInAOI"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">predictive =</span> Goal_AOI <span class="sc">/</span> (Goal_AOI <span class="sc">+</span> Trajectory_AOI) ) <span class="sc">|&gt;</span> </span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># in the data, NaN denotes that both AOIs had 0 gaze, we convert to NA</span></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">predictive =</span> <span class="fu">ifelse</span>(<span class="fu">is.nan</span>(predictive), <span class="cn">NA</span>, predictive)) <span class="sc">|&gt;</span> </span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># replace all infinity to 5</span></span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># when infinity, gaze was recorded only on Goal AOI, but none on Trajecotry AOI</span></span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># this means the participant was fixated on the Goal and not looking at the movement</span></span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># too many decimal points can't see anything</span></span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), round, <span class="dv">3</span>))</span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a><span class="co"># exclude due to not looking: V015, V032, V041</span></span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true" tabindex="-1"></a><span class="co"># exclude due to fixating only on Goal: V050</span></span>
<span id="cb61-17"><a href="#cb61-17" aria-hidden="true" tabindex="-1"></a>time_window_aggregate <span class="ot">&lt;-</span> time_window_aggregate <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span>participant <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"V015"</span>, <span class="st">"V029"</span>, <span class="st">"V032"</span>, <span class="st">"V041"</span>, <span class="st">"V050"</span>))</span>
<span id="cb61-18"><a href="#cb61-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-19"><a href="#cb61-19" aria-hidden="true" tabindex="-1"></a>analyse <span class="ot">&lt;-</span> time_window_aggregate</span>
<span id="cb61-20"><a href="#cb61-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-21"><a href="#cb61-21" aria-hidden="true" tabindex="-1"></a><span class="co"># check how many participants had too many NAs (over 6 videos in which they did not look at either of our AOIs)</span></span>
<span id="cb61-22"><a href="#cb61-22" aria-hidden="true" tabindex="-1"></a><span class="co"># count_participants_not_looking &lt;- time_window_aggregate |&gt; group_by(participant, trial_index) |&gt;</span></span>
<span id="cb61-23"><a href="#cb61-23" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(is.na(predictive)) |&gt; group_by(participant) |&gt; count() |&gt; </span></span>
<span id="cb61-24"><a href="#cb61-24" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(n &gt; 7)</span></span>
<span id="cb61-25"><a href="#cb61-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-26"><a href="#cb61-26" aria-hidden="true" tabindex="-1"></a><span class="co"># exclude participants</span></span>
<span id="cb61-27"><a href="#cb61-27" aria-hidden="true" tabindex="-1"></a><span class="co"># analyse &lt;- time_window_aggregate |&gt; filter(!participant %in% c(count_participants_not_looking$participant))</span></span>
<span id="cb61-28"><a href="#cb61-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-29"><a href="#cb61-29" aria-hidden="true" tabindex="-1"></a><span class="co"># knitr::kable(count_participants_not_looking, align = "c", </span></span>
<span id="cb61-30"><a href="#cb61-30" aria-hidden="true" tabindex="-1"></a><span class="co">#              caption = "Participants excluded for not looking at any of our AOIs")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="check-participants-who-failed-to-look-at-both-aois" class="level3">
<h3 class="anchored" data-anchor-id="check-participants-who-failed-to-look-at-both-aois">Check participants who failed to look at both AOIs</h3>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>check_not_looking <span class="ot">&lt;-</span> count_participants_not_looking<span class="sc">$</span>participant</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="check-participants-who-fixated-only-on-the-goal-aoi" class="level3">
<h3 class="anchored" data-anchor-id="check-participants-who-fixated-only-on-the-goal-aoi">Check participants who fixated only on the Goal AOI</h3>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>explore_infinity <span class="ot">&lt;-</span> analyse <span class="sc">|&gt;</span> <span class="fu">filter</span>(predictive <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> <span class="fu">group_by</span>(participant) <span class="sc">|&gt;</span> <span class="fu">count</span>()</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>check_infinity <span class="ot">&lt;-</span> explore_infinity<span class="sc">$</span>participant</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a><span class="co"># exploring - how many infinity</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a><span class="co"># explore_infinite &lt;- analyse |&gt; filter(is.infinite(predictive)) |&gt;</span></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   group_by(participant) |&gt; count()</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a><span class="co"># explore_infinite |&gt; filter(n &gt; 6)</span></span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Infinity processed into NA</span></span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 2 more people are excluded because for over 9 of 12 trials, they fixated only on the goal, and not on the trajectory</span></span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a><span class="co"># analyse &lt;- analyse |&gt; mutate_if(is.numeric, ~replace(., is.infinite(.), NA))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="mean-predictive-gaze-calculated-here" class="level3">
<h3 class="anchored" data-anchor-id="mean-predictive-gaze-calculated-here">Mean Predictive Gaze calculated here</h3>
<p>(Looks to Goal) / (Looks to Goal) + (Looks to Trajectory) if people are only fixated on the trajectory, we expect this to be close to 0 if people are fixated on the goal, it will be close to 1.</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>analyse_mean <span class="ot">&lt;-</span> analyse <span class="sc">|&gt;</span> <span class="fu">group_by</span>(participant, agent, motion_type) <span class="sc">|&gt;</span> </span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mean_pred =</span> <span class="fu">mean</span>(predictive, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(participant, agent, motion_type, mean_pred) <span class="sc">|&gt;</span> <span class="fu">distinct</span>() <span class="sc">|&gt;</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(mean_pred, <span class="sc">~</span><span class="fu">replace_na</span>(., <span class="fu">mean</span>(., <span class="at">na.rm=</span><span class="cn">TRUE</span>)))) <span class="sc">|&gt;</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">condition =</span> <span class="fu">paste</span>(agent, motion_type, <span class="at">sep =</span> <span class="st">' '</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="visualise" class="level4">
<h4 class="anchored" data-anchor-id="visualise">Visualise</h4>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to create the half violin (ref: https://psyteachr.github.io/quant-fun-v2/visualisation.html, section 13.10.2)</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="st">"%||%"</span> <span class="ot">&lt;-</span> <span class="cf">function</span>(a, b) {</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(a)) a <span class="cf">else</span> b</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>geom_flat_violin <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">mapping =</span> <span class="cn">NULL</span>, <span class="at">data =</span> <span class="cn">NULL</span>, <span class="at">stat =</span> <span class="st">"ydensity"</span>,</span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>                             <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">trim =</span> <span class="cn">TRUE</span>, <span class="at">scale =</span> <span class="st">"area"</span>,</span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>                             <span class="at">show.legend =</span> <span class="cn">NA</span>, <span class="at">inherit.aes =</span> <span class="cn">TRUE</span>, ...) {</span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layer</span>(</span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> data,</span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> mapping,</span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">stat =</span> stat,</span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> GeomFlatViolin,</span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> position,</span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> show.legend,</span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">inherit.aes =</span> inherit.aes,</span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">params =</span> <span class="fu">list</span>(</span>
<span id="cb65-19"><a href="#cb65-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">trim =</span> trim,</span>
<span id="cb65-20"><a href="#cb65-20" aria-hidden="true" tabindex="-1"></a>      <span class="at">scale =</span> scale,</span>
<span id="cb65-21"><a href="#cb65-21" aria-hidden="true" tabindex="-1"></a>      ...</span>
<span id="cb65-22"><a href="#cb65-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb65-23"><a href="#cb65-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb65-24"><a href="#cb65-24" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb65-25"><a href="#cb65-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-26"><a href="#cb65-26" aria-hidden="true" tabindex="-1"></a>GeomFlatViolin <span class="ot">&lt;-</span></span>
<span id="cb65-27"><a href="#cb65-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggproto</span>(<span class="st">"Violinist"</span>, Geom,</span>
<span id="cb65-28"><a href="#cb65-28" aria-hidden="true" tabindex="-1"></a>          <span class="at">setup_data =</span> <span class="cf">function</span>(data, params) {</span>
<span id="cb65-29"><a href="#cb65-29" aria-hidden="true" tabindex="-1"></a>            data<span class="sc">$</span>width <span class="ot">&lt;-</span> data<span class="sc">$</span>width <span class="sc">%||%</span></span>
<span id="cb65-30"><a href="#cb65-30" aria-hidden="true" tabindex="-1"></a>              params<span class="sc">$</span>width <span class="sc">%||%</span> (<span class="fu">resolution</span>(data<span class="sc">$</span>x, <span class="cn">FALSE</span>) <span class="sc">*</span> <span class="fl">0.9</span>)</span>
<span id="cb65-31"><a href="#cb65-31" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb65-32"><a href="#cb65-32" aria-hidden="true" tabindex="-1"></a>            <span class="co"># ymin, ymax, xmin, and xmax define the bounding rectangle for each group</span></span>
<span id="cb65-33"><a href="#cb65-33" aria-hidden="true" tabindex="-1"></a>            data <span class="sc">%&gt;%</span></span>
<span id="cb65-34"><a href="#cb65-34" aria-hidden="true" tabindex="-1"></a>              <span class="fu">group_by</span>(group) <span class="sc">%&gt;%</span></span>
<span id="cb65-35"><a href="#cb65-35" aria-hidden="true" tabindex="-1"></a>              <span class="fu">mutate</span>(<span class="at">ymin =</span> <span class="fu">min</span>(y),</span>
<span id="cb65-36"><a href="#cb65-36" aria-hidden="true" tabindex="-1"></a>                     <span class="at">ymax =</span> <span class="fu">max</span>(y),</span>
<span id="cb65-37"><a href="#cb65-37" aria-hidden="true" tabindex="-1"></a>                     <span class="at">xmin =</span> x,</span>
<span id="cb65-38"><a href="#cb65-38" aria-hidden="true" tabindex="-1"></a>                     <span class="at">xmax =</span> x <span class="sc">+</span> width <span class="sc">/</span> <span class="dv">2</span>)</span>
<span id="cb65-39"><a href="#cb65-39" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb65-40"><a href="#cb65-40" aria-hidden="true" tabindex="-1"></a>          },</span>
<span id="cb65-41"><a href="#cb65-41" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb65-42"><a href="#cb65-42" aria-hidden="true" tabindex="-1"></a>          <span class="at">draw_group =</span> <span class="cf">function</span>(data, panel_scales, coord) {</span>
<span id="cb65-43"><a href="#cb65-43" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Find the points for the line to go all the way around</span></span>
<span id="cb65-44"><a href="#cb65-44" aria-hidden="true" tabindex="-1"></a>            data <span class="ot">&lt;-</span> <span class="fu">transform</span>(data, <span class="at">xminv =</span> x,</span>
<span id="cb65-45"><a href="#cb65-45" aria-hidden="true" tabindex="-1"></a>                              <span class="at">xmaxv =</span> x <span class="sc">+</span> violinwidth <span class="sc">*</span> (xmax <span class="sc">-</span> x))</span>
<span id="cb65-46"><a href="#cb65-46" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb65-47"><a href="#cb65-47" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Make sure it's sorted properly to draw the outline</span></span>
<span id="cb65-48"><a href="#cb65-48" aria-hidden="true" tabindex="-1"></a>            newdata <span class="ot">&lt;-</span> <span class="fu">rbind</span>(plyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">transform</span>(data, <span class="at">x =</span> xminv), y),</span>
<span id="cb65-49"><a href="#cb65-49" aria-hidden="true" tabindex="-1"></a>                             plyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">transform</span>(data, <span class="at">x =</span> xmaxv), <span class="sc">-</span>y))</span>
<span id="cb65-50"><a href="#cb65-50" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb65-51"><a href="#cb65-51" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Close the polygon: set first and last point the same</span></span>
<span id="cb65-52"><a href="#cb65-52" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Needed for coord_polar and such</span></span>
<span id="cb65-53"><a href="#cb65-53" aria-hidden="true" tabindex="-1"></a>            newdata <span class="ot">&lt;-</span> <span class="fu">rbind</span>(newdata, newdata[<span class="dv">1</span>,])</span>
<span id="cb65-54"><a href="#cb65-54" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb65-55"><a href="#cb65-55" aria-hidden="true" tabindex="-1"></a>            ggplot2<span class="sc">:::</span><span class="fu">ggname</span>(<span class="st">"geom_flat_violin"</span>, GeomPolygon<span class="sc">$</span><span class="fu">draw_panel</span>(newdata, panel_scales, coord))</span>
<span id="cb65-56"><a href="#cb65-56" aria-hidden="true" tabindex="-1"></a>          },</span>
<span id="cb65-57"><a href="#cb65-57" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb65-58"><a href="#cb65-58" aria-hidden="true" tabindex="-1"></a>          <span class="at">draw_key =</span> draw_key_polygon,</span>
<span id="cb65-59"><a href="#cb65-59" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb65-60"><a href="#cb65-60" aria-hidden="true" tabindex="-1"></a>          <span class="at">default_aes =</span> <span class="fu">aes</span>(<span class="at">weight =</span> <span class="dv">1</span>, <span class="at">colour =</span> <span class="st">"grey20"</span>, <span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="fl">0.5</span>,</span>
<span id="cb65-61"><a href="#cb65-61" aria-hidden="true" tabindex="-1"></a>                            <span class="at">alpha =</span> <span class="cn">NA</span>, <span class="at">linetype =</span> <span class="st">"solid"</span>),</span>
<span id="cb65-62"><a href="#cb65-62" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb65-63"><a href="#cb65-63" aria-hidden="true" tabindex="-1"></a>          <span class="at">required_aes =</span> <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>)</span>
<span id="cb65-64"><a href="#cb65-64" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># impute grand mean to those outliers at 1.5 </span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(analyse_mean<span class="sc">$</span>mean_pred, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="co">#0.3456667</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3456667</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(analyse_mean<span class="sc">$</span>mean_pred, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="co">#0.3892676</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3892676</code></pre>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>analyse_mean <span class="sc">|&gt;</span> </span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#  mutate(condition = factor(condition, </span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">#                           levels=c("Robotic Arm Biological", </span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># "Robotic Arm Nonbiological", "Humanoid Biological", </span></span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># "Humanoid Nonbiological", "Human Biological", </span></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># "Human Nonbiological"))) |&gt;</span></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">agent =</span> <span class="fu">factor</span>(agent, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Robotic Arm"</span>, <span class="st">"Humanoid"</span>, <span class="st">"Human"</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> condition, <span class="at">y =</span> mean_pred, <span class="at">fill =</span> motion_type)) <span class="sc">+</span></span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a><span class="co">#  geom_jitter(width = .2, size = 1, alpha = .9, show.legend = FALSE) +</span></span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> .<span class="dv">2</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">alpha =</span> .<span class="dv">2</span>, <span class="at">trim =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> <span class="st">"mean"</span>, <span class="at">geom =</span> <span class="st">"point"</span>) <span class="sc">+</span></span>
<span id="cb70-13"><a href="#cb70-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun.data =</span> <span class="st">"mean_se"</span>, <span class="at">geom =</span> <span class="st">"errorbar"</span>, <span class="at">width =</span> .<span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb70-14"><a href="#cb70-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">name =</span> <span class="st">"Motion Type"</span>, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Biological"</span>, <span class="st">"Nonbiological"</span>)) <span class="sc">+</span></span>
<span id="cb70-15"><a href="#cb70-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Predictive gaze</span><span class="sc">\n</span><span class="st">(0 = not at all predictive; 1 = highly predictive)"</span>, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb70-16"><a href="#cb70-16" aria-hidden="true" tabindex="-1"></a>                      <span class="at">expand =</span> <span class="fu">c</span>(<span class="fl">0.02</span>, <span class="dv">0</span>, .<span class="dv">02</span>, <span class="dv">0</span>), </span>
<span id="cb70-17"><a href="#cb70-17" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"0"</span>, <span class="st">"0.25"</span>, <span class="st">"0.5"</span>, <span class="st">"0.75"</span>, <span class="st">"1"</span>)</span>
<span id="cb70-18"><a href="#cb70-18" aria-hidden="true" tabindex="-1"></a>                     ) <span class="sc">+</span></span>
<span id="cb70-19"><a href="#cb70-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_linedraw</span>() <span class="sc">+</span> </span>
<span id="cb70-20"><a href="#cb70-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">plot.margin =</span> <span class="fu">margin</span>(.<span class="dv">5</span>,.<span class="dv">5</span>,.<span class="dv">5</span>,.<span class="dv">5</span>, <span class="st">"cm"</span>), </span>
<span id="cb70-21"><a href="#cb70-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">vjust =</span> <span class="sc">-</span><span class="dv">3</span>), </span>
<span id="cb70-22"><a href="#cb70-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">vjust =</span> <span class="sc">+</span><span class="dv">3</span>),</span>
<span id="cb70-23"><a href="#cb70-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">12</span>), </span>
<span id="cb70-24"><a href="#cb70-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>)</span>
<span id="cb70-25"><a href="#cb70-25" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span>agent, <span class="at">scales =</span> <span class="st">"free"</span>) <span class="sc">+</span></span>
<span id="cb70-26"><a href="#cb70-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"darkgreen"</span>,  <span class="st">"darkorange4"</span>), </span>
<span id="cb70-27"><a href="#cb70-27" aria-hidden="true" tabindex="-1"></a>                    <span class="at">name =</span> <span class="st">"Motion Type"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Preprocessing_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid" width="1056"></p>
</div>
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co">#write_csv(analyse_mean, "predictiveGaze_aggregate.csv")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>analyse_mean <span class="sc">|&gt;</span> </span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">condition =</span> <span class="fu">factor</span>(condition,</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>                            <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"Robotic Arm Biological"</span>,</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Robotic Arm Nonbiological"</span>, <span class="st">"Humanoid Biological"</span>,</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Humanoid Nonbiological"</span>, <span class="st">"Human Biological"</span>,</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Human Nonbiological"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">agent =</span> <span class="fu">factor</span>(agent, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Robotic Arm"</span>, <span class="st">"Humanoid"</span>, <span class="st">"Human"</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> condition, <span class="at">y =</span> mean_pred, <span class="at">fill =</span> agent)) <span class="sc">+</span></span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a><span class="co">#  geom_jitter(width = .2, size = 1, alpha = .9, show.legend = FALSE) +</span></span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> .<span class="dv">2</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">alpha =</span> .<span class="dv">2</span>, <span class="at">trim =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> <span class="st">"mean"</span>, <span class="at">geom =</span> <span class="st">"point"</span>) <span class="sc">+</span></span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun.data =</span> <span class="st">"mean_se"</span>, <span class="at">geom =</span> <span class="st">"errorbar"</span>, <span class="at">width =</span> .<span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb72-14"><a href="#cb72-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">name =</span> <span class="st">"Agent"</span>, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Robotic Arm"</span>, <span class="st">"Humanoid"</span>, <span class="st">"Human"</span>)) <span class="sc">+</span></span>
<span id="cb72-15"><a href="#cb72-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Predictive gaze</span><span class="sc">\n</span><span class="st">(0 = not at all predictive; 1 = highly predictive)"</span>, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb72-16"><a href="#cb72-16" aria-hidden="true" tabindex="-1"></a>                      <span class="at">expand =</span> <span class="fu">c</span>(<span class="fl">0.02</span>, <span class="dv">0</span>, .<span class="dv">02</span>, <span class="dv">0</span>), </span>
<span id="cb72-17"><a href="#cb72-17" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"0"</span>, <span class="st">"0.25"</span>, <span class="st">"0.5"</span>, <span class="st">"0.75"</span>, <span class="st">"1"</span>)</span>
<span id="cb72-18"><a href="#cb72-18" aria-hidden="true" tabindex="-1"></a>                     ) <span class="sc">+</span></span>
<span id="cb72-19"><a href="#cb72-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_linedraw</span>() <span class="sc">+</span> </span>
<span id="cb72-20"><a href="#cb72-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">plot.margin =</span> <span class="fu">margin</span>(.<span class="dv">5</span>,.<span class="dv">5</span>,.<span class="dv">5</span>,.<span class="dv">5</span>, <span class="st">"cm"</span>), </span>
<span id="cb72-21"><a href="#cb72-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">vjust =</span> <span class="sc">-</span><span class="dv">3</span>), </span>
<span id="cb72-22"><a href="#cb72-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">vjust =</span> <span class="sc">+</span><span class="dv">3</span>),</span>
<span id="cb72-23"><a href="#cb72-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">12</span>), </span>
<span id="cb72-24"><a href="#cb72-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>)</span>
<span id="cb72-25"><a href="#cb72-25" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span>motion_type, <span class="at">scales =</span> <span class="st">"free"</span>, <span class="at">nrow =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb72-26"><a href="#cb72-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">wes_palette</span>(<span class="st">"Cavalcanti1"</span>, <span class="at">n =</span> <span class="dv">3</span>), <span class="at">name =</span> <span class="st">"Agent"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Preprocessing_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid" width="1056"></p>
</div>
</div>
</section>
</section>
</section>
<section id="violin" class="level2">
<h2 class="anchored" data-anchor-id="violin">Violin</h2>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>analyse_mean <span class="sc">|&gt;</span> </span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">agent =</span> <span class="fu">factor</span>(agent, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Robotic Arm"</span>, <span class="st">"Humanoid"</span>, <span class="st">"Human"</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> condition, <span class="at">y =</span> mean_pred, <span class="at">fill =</span> motion_type)) <span class="sc">+</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a><span class="co">#  geom_jitter(width = .2, size = 1, alpha = .9, show.legend = FALSE) +</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> .<span class="dv">3</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> <span class="st">"mean"</span>, <span class="at">geom =</span> <span class="st">"point"</span>) <span class="sc">+</span></span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun.data =</span> <span class="st">"mean_se"</span>, <span class="at">geom =</span> <span class="st">"errorbar"</span>, <span class="at">width =</span> .<span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">name =</span> <span class="st">"Motion Type"</span>, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Biological"</span>, <span class="st">"Nonbiological"</span>)) <span class="sc">+</span></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Predictive gaze</span><span class="sc">\n</span><span class="st">(0 = not at all predictive; 1 = highly predictive)"</span>, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>                      <span class="at">expand =</span> <span class="fu">c</span>(<span class="fl">0.02</span>, <span class="dv">0</span>, .<span class="dv">02</span>, <span class="dv">0</span>), </span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"0"</span>, <span class="st">"0.25"</span>, <span class="st">"0.5"</span>, <span class="st">"0.75"</span>, <span class="st">"1"</span>)</span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>                     ) <span class="sc">+</span></span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_linedraw</span>() <span class="sc">+</span> </span>
<span id="cb73-14"><a href="#cb73-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>, <span class="st">"cm"</span>), </span>
<span id="cb73-15"><a href="#cb73-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb73-16"><a href="#cb73-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">12</span>), </span>
<span id="cb73-17"><a href="#cb73-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position=</span><span class="st">"none"</span>, </span>
<span id="cb73-18"><a href="#cb73-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>)</span>
<span id="cb73-19"><a href="#cb73-19" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span>agent, <span class="at">scales =</span> <span class="st">"free"</span>) <span class="sc">+</span></span>
<span id="cb73-20"><a href="#cb73-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"darkgreen"</span>,  <span class="st">"darkorange4"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Preprocessing_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="check-not-looking-and-infinity" class="level2">
<h2 class="anchored" data-anchor-id="check-not-looking-and-infinity">Check Not Looking and Infinity</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>ALL_time_aggregate <span class="ot">&lt;-</span> ALL_time_data <span class="sc">|&gt;</span> </span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(participant, agent, motion_type, trial_index, SamplesInAOI, AOI)) <span class="sc">|&gt;</span> </span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(participant, agent, motion_type, trial_index, AOI, SamplesInAOI) <span class="sc">|&gt;</span> </span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>() <span class="sc">|&gt;</span> </span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">"AOI"</span>, <span class="at">values_from =</span> <span class="st">"SamplesInAOI"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">predictive =</span> Goal_AOI <span class="sc">/</span> (Goal_AOI <span class="sc">+</span> Trajectory_AOI) )</span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>CHECK_infinity <span class="ot">&lt;-</span> ALL_time_aggregate <span class="sc">|&gt;</span> <span class="fu">filter</span>(participant <span class="sc">%in%</span> check_infinity)</span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a><span class="co"># exclude 1 person V050 for fixating in the Goal AOI and not looking at the Trajectory AOI at all during 10 of 18 trials</span></span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a>CHECK_not_looking <span class="ot">&lt;-</span> ALL_time_aggregate <span class="sc">|&gt;</span> <span class="fu">filter</span>(participant <span class="sc">%in%</span> check_not_looking)</span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a><span class="co">#biggest offenders are: </span></span>
<span id="cb74-13"><a href="#cb74-13" aria-hidden="true" tabindex="-1"></a><span class="co"># V006 - 7 trials</span></span>
<span id="cb74-14"><a href="#cb74-14" aria-hidden="true" tabindex="-1"></a><span class="co"># V015 - 8 trials</span></span>
<span id="cb74-15"><a href="#cb74-15" aria-hidden="true" tabindex="-1"></a><span class="co"># V032 - 12 trials</span></span>
<span id="cb74-16"><a href="#cb74-16" aria-hidden="true" tabindex="-1"></a><span class="co"># V041 - 11 trials</span></span>
<span id="cb74-17"><a href="#cb74-17" aria-hidden="true" tabindex="-1"></a><span class="co"># exclude the latter 3 participants: V015, V032, V041</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="across-6-stimuli-everyones-gaze-between-1500ms-before-pouring-and-500ms-after-pouring" class="level4">
<h4 class="anchored" data-anchor-id="across-6-stimuli-everyones-gaze-between-1500ms-before-pouring-and-500ms-after-pouring">Across 6 stimuli, everyone’s gaze between 1500ms before pouring and 500ms after pouring</h4>
<p>Colours represent 3 different blocks.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>labels_correct<span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"TheoBioCorrect"</span> <span class="ot">=</span> <span class="st">"Robotic Arm</span><span class="sc">\n</span><span class="st">Biological</span><span class="sc">\n</span><span class="st">Correct"</span>, </span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"TheoNonbioCorrect"</span> <span class="ot">=</span> <span class="st">"Robotic Arm</span><span class="sc">\n</span><span class="st">Nonbiological</span><span class="sc">\n</span><span class="st">Correct"</span>, </span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"MiloBioCorrect"</span> <span class="ot">=</span> <span class="st">"Humanoid</span><span class="sc">\n</span><span class="st">Biological</span><span class="sc">\n</span><span class="st">Correct"</span>, </span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"MiloNonbioCorrect"</span> <span class="ot">=</span><span class="st">"Humanoid</span><span class="sc">\n</span><span class="st">Nonbiological</span><span class="sc">\n</span><span class="st">Correct"</span>, </span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"HumanBioCorrect"</span> <span class="ot">=</span> <span class="st">"Human</span><span class="sc">\n</span><span class="st">Biological</span><span class="sc">\n</span><span class="st">Correct"</span>,</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"HumanNonbioCorrect"</span> <span class="ot">=</span> <span class="st">"Human</span><span class="sc">\n</span><span class="st">Nonbiological</span><span class="sc">\n</span><span class="st">Correct"</span></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> equal_bins <span class="sc">|&gt;</span> </span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(participant, stimulus, interval) <span class="sc">|&gt;</span> </span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a> <span class="fu">filter</span>(time <span class="sc">&gt;</span> (pour_bin <span class="sc">-</span> <span class="dv">1500</span>) <span class="sc">&amp;</span> time <span class="sc">&lt;=</span> (pour_bin <span class="sc">+</span> <span class="dv">500</span>)) <span class="sc">|&gt;</span>  </span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a> <span class="fu">mutate</span>(<span class="at">stimulus =</span> <span class="fu">factor</span>(stimulus, <span class="at">levels=</span> <span class="fu">c</span>(<span class="st">"TheoBioCorrect"</span>,<span class="st">"TheoNonbioCorrect"</span>, <span class="st">"MiloBioCorrect"</span>, <span class="st">"MiloNonbioCorrect"</span>, <span class="st">"HumanBioCorrect"</span>, <span class="st">"HumanNonbioCorrect"</span>)</span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a>                             )) <span class="sc">|&gt;</span> </span>
<span id="cb75-14"><a href="#cb75-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb75-15"><a href="#cb75-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_rect</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> <span class="dv">605</span>, <span class="at">xmax =</span> <span class="dv">851</span>, <span class="at">ymin =</span> <span class="dv">279</span>, <span class="at">ymax =</span> <span class="fl">567.5</span>), <span class="at">color =</span> <span class="st">"#5E82C9"</span>, <span class="at">fill =</span> <span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb75-16"><a href="#cb75-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> x.binned, <span class="at">y =</span> y.binned, <span class="at">color =</span> block), <span class="at">size=</span><span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb75-17"><a href="#cb75-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>() <span class="sc">+</span></span>
<span id="cb75-18"><a href="#cb75-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb75-19"><a href="#cb75-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb75-20"><a href="#cb75-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>)</span>
<span id="cb75-21"><a href="#cb75-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb75-22"><a href="#cb75-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1080</span>)) <span class="sc">+</span> </span>
<span id="cb75-23"><a href="#cb75-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="fl">607.5</span>, <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb75-24"><a href="#cb75-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"1"</span> <span class="ot">=</span> <span class="st">"gray"</span>, <span class="st">"2"</span> <span class="ot">=</span> <span class="st">"purple"</span>, <span class="st">"3"</span> <span class="ot">=</span> <span class="st">"orange"</span>)) <span class="sc">+</span> </span>
<span id="cb75-25"><a href="#cb75-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>stimulus, <span class="at">labeller =</span> <span class="fu">as_labeller</span>(labels_correct), <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb75-26"><a href="#cb75-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transition_time</span>(time) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"{plyr::round_any(frame_time,50,floor)} ms"</span>)</span>
<span id="cb75-27"><a href="#cb75-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-28"><a href="#cb75-28" aria-hidden="true" tabindex="-1"></a><span class="co"># animate(a, fps = 2, end_pause = 10)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="equal-time-bins-of-20ms" class="level3">
<h3 class="anchored" data-anchor-id="equal-time-bins-of-20ms">Equal Time Bins of 20ms</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create vector where the bins of 50ms each </span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="co"># total length of videos were 7999ms</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a><span class="co"># v20 &lt;- seq(1, 8000, by = 20)</span></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a><span class="co"># v20_intervals &lt;- as_tibble(cbind(v20, findInterval(v20, v20)))</span></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a><span class="co"># using findInterval in baseR to match the timestamp from the raw data to the interval in v</span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a><span class="co"># timestamps between 1 and 50 will become 1 in `interval`, etc.</span></span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a><span class="co"># equal_bins_20 &lt;- eyetrack_data |&gt; </span></span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(interval = findInterval(t, v20), .after = t) |&gt;</span></span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a><span class="co">#   group_by(participant, stimulus, trial_index, interval) |&gt;</span></span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a><span class="co">#   # mean of x, y coordinates within same tin bin</span></span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(x.binned = mean(x.adjusted, na.rm = TRUE), .before = t) |&gt; </span></span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(y.binned = mean(y.adjusted, na.rm = TRUE), .before = t) |&gt; </span></span>
<span id="cb76-14"><a href="#cb76-14" aria-hidden="true" tabindex="-1"></a><span class="co">#   # remove the raw data columns</span></span>
<span id="cb76-15"><a href="#cb76-15" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(-c(x.adjusted, y.adjusted, t))|&gt; </span></span>
<span id="cb76-16"><a href="#cb76-16" aria-hidden="true" tabindex="-1"></a><span class="co">#   # get unique row</span></span>
<span id="cb76-17"><a href="#cb76-17" aria-hidden="true" tabindex="-1"></a><span class="co">#   distinct() |&gt; </span></span>
<span id="cb76-18"><a href="#cb76-18" aria-hidden="true" tabindex="-1"></a><span class="co">#   # map the interval 1, 2, 3... back into milliseconds 1, 51, 101... </span></span>
<span id="cb76-19"><a href="#cb76-19" aria-hidden="true" tabindex="-1"></a><span class="co">#   left_join(v_intervals, join_by("interval" == "V2")) |&gt;</span></span>
<span id="cb76-20"><a href="#cb76-20" aria-hidden="true" tabindex="-1"></a><span class="co">#   rename(time = v) |&gt; </span></span>
<span id="cb76-21"><a href="#cb76-21" aria-hidden="true" tabindex="-1"></a><span class="co">#   left_join(frame_before_outcome, by = "stimulus") |&gt; </span></span>
<span id="cb76-22"><a href="#cb76-22" aria-hidden="true" tabindex="-1"></a><span class="co">#   # round the pouring moment down to the nearest bin of 50</span></span>
<span id="cb76-23"><a href="#cb76-23" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(pour_bin = plyr::round_any(pour_moment,50,floor) + 1) |&gt; </span></span>
<span id="cb76-24"><a href="#cb76-24" aria-hidden="true" tabindex="-1"></a><span class="co">#   #convert trial_index into block 1, block 2, block 3</span></span>
<span id="cb76-25"><a href="#cb76-25" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(block = case_when(trial_index &lt; 7 ~ "1", </span></span>
<span id="cb76-26"><a href="#cb76-26" aria-hidden="true" tabindex="-1"></a><span class="co">#                                               trial_index &gt; 12 ~ "3", </span></span>
<span id="cb76-27"><a href="#cb76-27" aria-hidden="true" tabindex="-1"></a><span class="co">#                                               TRUE ~ "2"), .before = stimulus)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="exploring-how-to-filter-the-noisy-data" class="level3">
<h3 class="anchored" data-anchor-id="exploring-how-to-filter-the-noisy-data">Exploring how to filter the noisy data</h3>
<p>For Mould’s methods, see ([Mould et al., 2012](<a href="https://doi.org/10.1016/j.visres.2011.12.006" class="uri">https://doi.org/10.1016/j.visres.2011.12.006</a>)). Underlying Mould are Loess smoothers, and my data is too sparse for that.</p>
<p>For dispersion algorithms (see [Blignaut (2009)](<a href="https://link.springer.com/content/pdf/10.3758/APP.71.4.881.pdf" class="uri">https://link.springer.com/content/pdf/10.3758/APP.71.4.881.pdf</a>). Making assumption that everyone was 60cm away from screen. Visual angle for fixations set at .9 degrees (default value set in function).</p>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>play <span class="ot">&lt;-</span> equal_bins <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">distance =</span> <span class="dv">600</span>) <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(block, interval, Goal_AOI, Trajectory_AOI, pour_moment, pour_bin))</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>q <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(play) <span class="sc">|&gt;</span> <span class="fu">gazepath</span>(<span class="at">x1 =</span> <span class="st">"x.binned"</span>, <span class="at">y1 =</span> <span class="st">"y.binned"</span>, <span class="at">d1 =</span> <span class="st">"distance"</span>, <span class="at">trial =</span> <span class="st">"trial_index"</span>, <span class="at">height_px =</span> <span class="fl">607.5</span>, <span class="at">width_px =</span> <span class="dv">1080</span>, <span class="at">height_mm =</span> <span class="fl">160.7</span>, <span class="at">width_mm =</span> <span class="fl">285.75</span>, <span class="at">extra_var =</span> <span class="fu">c</span>(<span class="st">"participant"</span>),</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a><span class="at">res_x =</span> <span class="dv">1080</span>, <span class="at">res_y =</span> <span class="fl">607.5</span>, <span class="at">samplerate =</span> <span class="dv">20</span>, <span class="at">method =</span> <span class="st">"MouldDur"</span>, <span class="at">posthoc =</span> <span class="cn">TRUE</span>, <span class="at">thres_dur =</span> <span class="dv">100</span>, <span class="at">in_thres =</span> <span class="dv">150</span></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(q, <span class="at">trial_index =</span> <span class="dv">10</span>, <span class="at">fixations_only =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>